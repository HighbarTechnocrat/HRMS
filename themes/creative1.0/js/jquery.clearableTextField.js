(function (e) { function t() { n(e(this)) } function n(e) { if (e.val().length > 0) { r(e) } else { i(e) } } function r(e) { if (!e.next().hasClass("text_clear_button")) { e.after("<div class='text_clear_button'></div>"); var t = e.next(); var r = t.outerHeight(), i = t.outerHeight(); e.css("padding-right", parseInt(e.css("padding-right")) + r + 1); e.width(e.width() - r - 1); var s = e.position(); var o = {}; o["left"] = s.left + e.outerWidth(false) - (r + 2); var u = Math.round((e.outerHeight(true) - i) / 2); o["top"] = s.top + u; t.css(o); t.click(function () { e.val(""); __doPostBack("txtsearch_TextChanged", ""); __doPostBack("txtbrandfilter_TextChanged", ""); n(e) }) } } function i(e) { var t = e.next(); if (t.hasClass("text_clear_button")) { t.remove(); var n = t.width(); e.css("padding-right", parseInt(e.css("padding-right")) - n - 1); e.width(e.width() + n + 1) } } e.fn.clearableTextField = function () { if (e(this).length > 0) { e(this).bind("keyup change paste cut", t); for (var r = 0; r < e(this).length; r++) { n(e(e(this)[r])) } } } })(jQuery)
(function (e) { e.fn.extend({ leanModal: function (t) { function n(t) { e("#lean_overlay").fadeOut(200); e(t).css({ display: "none" }) } var r = { top: 100, overlay: .5, closeButton: null }; var i = e("<div id='lean_overlay'></div>"); e("body").append(i); t = e.extend(r, t); return this.each(function () { var r = t; e(this).click(function (t) { var i = e(this).attr("href"); e("#lean_overlay").click(function () { n(i) }); e(r.closeButton).click(function () { n(i) }); var s = e(i).outerHeight(); var o = e(i).outerWidth(); e("#lean_overlay").css({ display: "block", opacity: 0 }); e("#lean_overlay").fadeTo(200, r.overlay); e(i).css({ display: "block", position: "fixed", opacity: 0, "z-index": 11e3, left: 50 + "%", "margin-left": -(o / 2) + "px", top: "100" }); e(i).fadeTo(200, 1); t.preventDefault() }) }) } }) })(jQuery)
function DropDown(e) { this.dd = e, this.initEvents() } $(document).ready(function () { $(".accountdropdown").hover(function () { var e = $(this).attr("id"); "one" == e ? ($(".submenu").hide(), $(this).attr("id", "zero")) : ($(".submenu").show(), $(this).attr("id", "one")) }), $(".submenu").mouseup(function () { return !1 }), $(".accountdropdown").mouseup(function () { return !1 }), $(document).mouseup(function () { $(".submenu").hide(), $(".accountdropdown").attr("id", "") }), $(".mobile-accountdropdown").click(function () { var e = $(this).attr("id"); "one" == e ? ($(".mobile-submenu").hide(), $(this).attr("id", "zero")) : ($(".mobile-submenu").show(), $(this).attr("id", "one")) }), $(".mobile-submenu").mouseup(function () { return !1 }), $(".mobile-accountdropdown").mouseup(function () { return !1 }), $(document).mouseup(function () { $(".mobile-submenu").hide(), $(".mobile-accountdropdown").attr("id", "") }) });  !function (e, t, n, r) { function i(t, n) { this.settings = null, this.options = e.extend({}, i.Defaults, n), this.$element = e(t), this.drag = e.extend({}, h), this.state = e.extend({}, p), this.e = e.extend({}, d), this._plugins = {}, this._supress = {}, this._current = null, this._speed = null, this._coordinates = [], this._breakpoint = null, this._width = null, this._items = [], this._clones = [], this._mergers = [], this._invalidated = {}, this._pipe = [], e.each(i.Plugins, e.proxy(function (e, t) { this._plugins[e[0].toLowerCase() + e.slice(1)] = new t(this) }, this)), e.each(i.Pipe, e.proxy(function (t, n) { this._pipe.push({ filter: n.filter, run: e.proxy(n.run, this) }) }, this)), this.setup(), this.initialize() } function s(e) { if (e.touches !== r) return { x: e.touches[0].pageX, y: e.touches[0].pageY }; if (e.touches === r) { if (e.pageX !== r) return { x: e.pageX, y: e.pageY }; if (e.pageX === r) return { x: e.clientX, y: e.clientY } } } function o(e) { var t, r, i = n.createElement("div"), s = e; for (t in s) if (r = s[t], "undefined" != typeof i.style[r]) return i = null, [r, t]; return [!1] } function u() { return o(["transition", "WebkitTransition", "MozTransition", "OTransition"])[1] } function a() { return o(["transform", "WebkitTransform", "MozTransform", "OTransform", "msTransform"])[0] } function f() { return o(["perspective", "webkitPerspective", "MozPerspective", "OPerspective", "MsPerspective"])[0] } function l() { return "ontouchstart" in t || !!navigator.msMaxTouchPoints } function c() { return t.navigator.msPointerEnabled } var h, p, d; h = { start: 0, startX: 0, startY: 0, current: 0, currentX: 0, currentY: 0, offsetX: 0, offsetY: 0, distance: null, startTime: 0, endTime: 0, updatedX: 0, targetEl: null }, p = { isTouch: !1, isScrolling: !1, isSwiping: !1, direction: !1, inMotion: !1 }, d = { _onDragStart: null, _onDragMove: null, _onDragEnd: null, _transitionEnd: null, _resizer: null, _responsiveCall: null, _goToLoop: null, _checkVisibile: null }, i.Defaults = { items: 3, loop: !1, center: !1, mouseDrag: !0, touchDrag: !0, pullDrag: !0, freeDrag: !1, margin: 0, stagePadding: 0, merge: !1, mergeFit: !0, autoWidth: !1, startPosition: 0, rtl: !1, smartSpeed: 250, fluidSpeed: !1, dragEndSpeed: !1, responsive: {}, responsiveRefreshRate: 200, responsiveBaseElement: t, responsiveClass: !1, fallbackEasing: "swing", info: !1, nestedItemSelector: !1, itemElement: "div", stageElement: "div", baseClass: "IM-carousel", itemClass: "IM-item", centerClass: "center", activeClass: "active" }, i.Width = { Default: "default", Inner: "inner", Outer: "outer" }, i.Plugins = {}, i.Pipe = [{ filter: ["width", "items", "settings"], run: function (e) { e.current = this._items && this._items[this.relative(this._current)] } }, { filter: ["items", "settings"], run: function () { var e = this._clones, t = this.$stage.children(".cloned"); (t.length !== e.length || !this.settings.loop && e.length > 0) && (this.$stage.children(".cloned").remove(), this._clones = []) } }, { filter: ["items", "settings"], run: function () { var e, t, n = this._clones, r = this._items, i = this.settings.loop ? n.length - Math.max(2 * this.settings.items, 4) : 0; for (e = 0, t = Math.abs(i / 2) ; t > e; e++) i > 0 ? (this.$stage.children().eq(r.length + n.length - 1).remove(), n.pop(), this.$stage.children().eq(0).remove(), n.pop()) : (n.push(n.length / 2), this.$stage.append(r[n[n.length - 1]].clone().addClass("cloned")), n.push(r.length - 1 - (n.length - 1) / 2), this.$stage.prepend(r[n[n.length - 1]].clone().addClass("cloned"))) } }, { filter: ["width", "items", "settings"], run: function () { var e, t, n, r = this.settings.rtl ? 1 : -1, i = (this.width() / this.settings.items).toFixed(3), s = 0; for (this._coordinates = [], t = 0, n = this._clones.length + this._items.length; n > t; t++) e = this._mergers[this.relative(t)], e = this.settings.mergeFit && Math.min(e, this.settings.items) || e, s += (this.settings.autoWidth ? this._items[this.relative(t)].width() + this.settings.margin : i * e) * r, this._coordinates.push(s) } }, { filter: ["width", "items", "settings"], run: function () { var t, n, r = (this.width() / this.settings.items).toFixed(3), i = { width: Math.abs(this._coordinates[this._coordinates.length - 1]) + 2 * this.settings.stagePadding, "padding-left": this.settings.stagePadding || "", "padding-right": this.settings.stagePadding || "" }; if (this.$stage.css(i), i = { width: this.settings.autoWidth ? "auto" : r - this.settings.margin }, i[this.settings.rtl ? "margin-left" : "margin-right"] = this.settings.margin, !this.settings.autoWidth && e.grep(this._mergers, function (e) { return e > 1 }).length > 0) for (t = 0, n = this._coordinates.length; n > t; t++) i.width = Math.abs(this._coordinates[t]) - Math.abs(this._coordinates[t - 1] || 0) - this.settings.margin, this.$stage.children().eq(t).css(i); else this.$stage.children().css(i) } }, { filter: ["width", "items", "settings"], run: function (e) { e.current && this.reset(this.$stage.children().index(e.current)) } }, { filter: ["position"], run: function () { this.animate(this.coordinates(this._current)) } }, { filter: ["width", "position", "items", "settings"], run: function () { var e, t, n, r, i = this.settings.rtl ? 1 : -1, s = 2 * this.settings.stagePadding, o = this.coordinates(this.current()) + s, u = o + this.width() * i, a = []; for (n = 0, r = this._coordinates.length; r > n; n++) e = this._coordinates[n - 1] || 0, t = Math.abs(this._coordinates[n]) + s * i, (this.op(e, "<=", o) && this.op(e, ">", u) || this.op(t, "<", o) && this.op(t, ">", u)) && a.push(n); this.$stage.children("." + this.settings.activeClass).removeClass(this.settings.activeClass), this.$stage.children(":eq(" + a.join("), :eq(") + ")").addClass(this.settings.activeClass), this.settings.center && (this.$stage.children("." + this.settings.centerClass).removeClass(this.settings.centerClass), this.$stage.children().eq(this.current()).addClass(this.settings.centerClass)) } }], i.prototype.initialize = function () { if (this.trigger("initialize"), this.$element.addClass(this.settings.baseClass).addClass(this.settings.themeClass).toggleClass("IM-rtl", this.settings.rtl), this.browserSupport(), this.settings.autoWidth && this.state.imagesLoaded !== !0) { var t, n, i; if (t = this.$element.find("img"), n = this.settings.nestedItemSelector ? "." + this.settings.nestedItemSelector : r, i = this.$element.children(n).width(), t.length && 0 >= i) return this.preloadAutoWidthImages(t), !1 } this.$element.addClass("IM-loading"), this.$stage = e("<" + this.settings.stageElement + ' class="IM-wrapper"/>').wrap('<div class="IM-wrapper-outer">'), this.$element.append(this.$stage.parent()), this.replace(this.$element.children().not(this.$stage.parent())), this._width = this.$element.width(), this.refresh(), this.$element.removeClass("IM-loading").addClass("IM-loaded"), this.eventsCall(), this.internalEvents(), this.addTriggerableEvents(), this.trigger("initialized") }, i.prototype.setup = function () { var t = this.viewport(), n = this.options.responsive, r = -1, i = null; n ? (e.each(n, function (e) { t >= e && e > r && (r = Number(e)) }), i = e.extend({}, this.options, n[r]), delete i.responsive, i.responsiveClass && this.$element.attr("class", function (e, t) { return t.replace(/\b owl-responsive-\S+/g, "") }).addClass("IM-responsive-" + r)) : i = e.extend({}, this.options), (null === this.settings || this._breakpoint !== r) && (this.trigger("change", { property: { name: "settings", value: i } }), this._breakpoint = r, this.settings = i, this.invalidate("settings"), this.trigger("changed", { property: { name: "settings", value: this.settings } })) }, i.prototype.optionsLogic = function () { this.$element.toggleClass("IM-center", this.settings.center), this.settings.loop && this._items.length < this.settings.items && (this.settings.loop = !1), this.settings.autoWidth && (this.settings.stagePadding = !1, this.settings.merge = !1) }, i.prototype.prepare = function (t) { var n = this.trigger("prepare", { content: t }); return n.data || (n.data = e("<" + this.settings.itemElement + "/>").addClass(this.settings.itemClass).append(t)), this.trigger("prepared", { content: n.data }), n.data }, i.prototype.update = function () { for (var t = 0, n = this._pipe.length, r = e.proxy(function (e) { return this[e] }, this._invalidated), i = {}; n > t;) (this._invalidated.all || e.grep(this._pipe[t].filter, r).length > 0) && this._pipe[t].run(i), t++; this._invalidated = {} }, i.prototype.width = function (e) { switch (e = e || i.Width.Default) { case i.Width.Inner: case i.Width.Outer: return this._width; default: return this._width - 2 * this.settings.stagePadding + this.settings.margin } }, i.prototype.refresh = function () { if (0 === this._items.length) return !1; (new Date).getTime(); this.trigger("refresh"), this.setup(), this.optionsLogic(), this.$stage.addClass("IM-refresh"), this.update(), this.$stage.removeClass("IM-refresh"), this.state.orientation = t.orientation, this.watchVisibility(), this.trigger("refreshed") }, i.prototype.eventsCall = function () { this.e._onDragStart = e.proxy(function (e) { this.onDragStart(e) }, this), this.e._onDragMove = e.proxy(function (e) { this.onDragMove(e) }, this), this.e._onDragEnd = e.proxy(function (e) { this.onDragEnd(e) }, this), this.e._onResize = e.proxy(function (e) { this.onResize(e) }, this), this.e._transitionEnd = e.proxy(function (e) { this.transitionEnd(e) }, this), this.e._preventClick = e.proxy(function (e) { this.preventClick(e) }, this) }, i.prototype.onThrottledResize = function () { t.clearTimeout(this.resizeTimer), this.resizeTimer = t.setTimeout(this.e._onResize, this.settings.responsiveRefreshRate) }, i.prototype.onResize = function () { return this._items.length ? this._width === this.$element.width() ? !1 : this.trigger("resize").isDefaultPrevented() ? !1 : (this._width = this.$element.width(), this.invalidate("width"), this.refresh(), void this.trigger("resized")) : !1 }, i.prototype.eventsRouter = function (e) { var t = e.type; "mousedown" === t || "touchstart" === t ? this.onDragStart(e) : "mousemove" === t || "touchmove" === t ? this.onDragMove(e) : "mouseup" === t || "touchend" === t ? this.onDragEnd(e) : "touchcancel" === t && this.onDragEnd(e) }, i.prototype.internalEvents = function () { var n = (l(), c()); this.settings.mouseDrag ? (this.$stage.on("mousedown", e.proxy(function (e) { this.eventsRouter(e) }, this)), this.$stage.on("dragstart", function () { return !1 }), this.$stage.get(0).onselectstart = function () { return !1 }) : this.$element.addClass("IM-text-select-on"), this.settings.touchDrag && !n && this.$stage.on("touchstart touchcancel", e.proxy(function (e) { this.eventsRouter(e) }, this)), this.transitionEndVendor && this.on(this.$stage.get(0), this.transitionEndVendor, this.e._transitionEnd, !1), this.settings.responsive !== !1 && this.on(t, "resize", e.proxy(this.onThrottledResize, this)) }, i.prototype.onDragStart = function (r) { var i, o, u, a; if (i = r.originalEvent || r || t.event, 3 === i.which || this.state.isTouch) return !1; if ("mousedown" === i.type && this.$stage.addClass("IM-grab"), this.trigger("drag"), this.drag.startTime = (new Date).getTime(), this.speed(0), this.state.isTouch = !0, this.state.isScrolling = !1, this.state.isSwiping = !1, this.drag.distance = 0, o = s(i).x, u = s(i).y, this.drag.offsetX = this.$stage.position().left, this.drag.offsetY = this.$stage.position().top, this.settings.rtl && (this.drag.offsetX = this.$stage.position().left + this.$stage.width() - this.width() + this.settings.margin), this.state.inMotion && this.support3d) a = this.getTransformProperty(), this.drag.offsetX = a, this.animate(a), this.state.inMotion = !0; else if (this.state.inMotion && !this.support3d) return this.state.inMotion = !1, !1; this.drag.startX = o - this.drag.offsetX, this.drag.startY = u - this.drag.offsetY, this.drag.start = o - this.drag.startX, this.drag.targetEl = i.target || i.srcElement, this.drag.updatedX = this.drag.start, ("IMG" === this.drag.targetEl.tagName || "A" === this.drag.targetEl.tagName) && (this.drag.targetEl.draggable = !1), e(n).on("mousemove.owl.dragEvents mouseup.owl.dragEvents touchmove.owl.dragEvents touchend.owl.dragEvents", e.proxy(function (e) { this.eventsRouter(e) }, this)) }, i.prototype.onDragMove = function (e) { var n, i, o, u, a, f; this.state.isTouch && (this.state.isScrolling || (n = e.originalEvent || e || t.event, i = s(n).x, o = s(n).y, this.drag.currentX = i - this.drag.startX, this.drag.currentY = o - this.drag.startY, this.drag.distance = this.drag.currentX - this.drag.offsetX, this.drag.distance < 0 ? this.state.direction = this.settings.rtl ? "right" : "left" : this.drag.distance > 0 && (this.state.direction = this.settings.rtl ? "left" : "right"), this.settings.loop ? this.op(this.drag.currentX, ">", this.coordinates(this.minimum())) && "right" === this.state.direction ? this.drag.currentX -= (this.settings.center && this.coordinates(0)) - this.coordinates(this._items.length) : this.op(this.drag.currentX, "<", this.coordinates(this.maximum())) && "left" === this.state.direction && (this.drag.currentX += (this.settings.center && this.coordinates(0)) - this.coordinates(this._items.length)) : (u = this.coordinates(this.settings.rtl ? this.maximum() : this.minimum()), a = this.coordinates(this.settings.rtl ? this.minimum() : this.maximum()), f = this.settings.pullDrag ? this.drag.distance / 5 : 0, this.drag.currentX = Math.max(Math.min(this.drag.currentX, u + f), a + f)), (this.drag.distance > 8 || this.drag.distance < -8) && (n.preventDefault !== r ? n.preventDefault() : n.returnValue = !1, this.state.isSwiping = !0), this.drag.updatedX = this.drag.currentX, (this.drag.currentY > 16 || this.drag.currentY < -16) && this.state.isSwiping === !1 && (this.state.isScrolling = !0, this.drag.updatedX = this.drag.start), this.animate(this.drag.updatedX))) }, i.prototype.onDragEnd = function (t) { var r, i, s; if (this.state.isTouch) { if ("mouseup" === t.type && this.$stage.removeClass("IM-grab"), this.trigger("dragged"), this.drag.targetEl.removeAttribute("draggable"), this.state.isTouch = !1, this.state.isScrolling = !1, this.state.isSwiping = !1, 0 === this.drag.distance && this.state.inMotion !== !0) return this.state.inMotion = !1, !1; this.drag.endTime = (new Date).getTime(), r = this.drag.endTime - this.drag.startTime, i = Math.abs(this.drag.distance), (i > 3 || r > 300) && this.removeClick(this.drag.targetEl), s = this.closest(this.drag.updatedX), this.speed(this.settings.dragEndSpeed || this.settings.smartSpeed), this.current(s), this.invalidate("position"), this.update(), this.settings.pullDrag || this.drag.updatedX !== this.coordinates(s) || this.transitionEnd(), this.drag.distance = 0, e(n).off(".owl.dragEvents") } }, i.prototype.removeClick = function (n) { this.drag.targetEl = n, e(n).on("click.preventClick", this.e._preventClick), t.setTimeout(function () { e(n).off("click.preventClick") }, 300) }, i.prototype.preventClick = function (t) { t.preventDefault ? t.preventDefault() : t.returnValue = !1, t.stopPropagation && t.stopPropagation(), e(t.target).off("click.preventClick") }, i.prototype.getTransformProperty = function () { var e, n; return e = t.getComputedStyle(this.$stage.get(0), null).getPropertyValue(this.vendorName + "transform"), e = e.replace(/matrix(3d)?\(|\)/g, "").split(","), n = 16 === e.length, n !== !0 ? e[4] : e[12] }, i.prototype.closest = function (t) { var n = -1, r = 30, i = this.width(), s = this.coordinates(); return this.settings.freeDrag || e.each(s, e.proxy(function (e, o) { return t > o - r && o + r > t ? n = e : this.op(t, "<", o) && this.op(t, ">", s[e + 1] || o - i) && (n = "left" === this.state.direction ? e + 1 : e), -1 === n }, this)), this.settings.loop || (this.op(t, ">", s[this.minimum()]) ? n = t = this.minimum() : this.op(t, "<", s[this.maximum()]) && (n = t = this.maximum())), n }, i.prototype.animate = function (t) { this.trigger("translating"), this.state.inMotion = this.speed() > 0, this.support3d ? this.$stage.css({ transform: "translate3d(" + t + "px,0px, 0px)", transition: this.speed() / 1e3 + "s" }) : this.state.isTouch ? this.$stage.css({ left: t + "px" }) : this.$stage.animate({ left: t }, this.speed() / 1e3, this.settings.fallbackEasing, e.proxy(function () { this.state.inMotion && this.transitionEnd() }, this)) }, i.prototype.current = function (e) { if (e === r) return this._current; if (0 === this._items.length) return r; if (e = this.normalize(e), this._current !== e) { var t = this.trigger("change", { property: { name: "position", value: e } }); t.data !== r && (e = this.normalize(t.data)), this._current = e, this.invalidate("position"), this.trigger("changed", { property: { name: "position", value: this._current } }) } return this._current }, i.prototype.invalidate = function (e) { this._invalidated[e] = !0 }, i.prototype.reset = function (e) { e = this.normalize(e), e !== r && (this._speed = 0, this._current = e, this.suppress(["translating", "translated"]), this.animate(this.coordinates(e)), this.release(["translating", "translated"])) }, i.prototype.normalize = function (t, n) { var i = n ? this._items.length : this._items.length + this._clones.length; return !e.isNumeric(t) || 1 > i ? r : t = this._clones.length ? (t % i + i) % i : Math.max(this.minimum(n), Math.min(this.maximum(n), t)) }, i.prototype.relative = function (e) { return e = this.normalize(e), e -= this._clones.length / 2, this.normalize(e, !0) }, i.prototype.maximum = function (e) { var t, n, r, i = 0, s = this.settings; if (e) return this._items.length - 1; if (!s.loop && s.center) t = this._items.length - 1; else if (s.loop || s.center) if (s.loop || s.center) t = this._items.length + s.items; else { if (!s.autoWidth && !s.merge) throw "Can not detect maximum absolute position."; for (revert = s.rtl ? 1 : -1, n = this.$stage.width() - this.$element.width() ; (r = this.coordinates(i)) && !(r * revert >= n) ;) t = ++i } else t = this._items.length - s.items; return t }, i.prototype.minimum = function (e) { return e ? 0 : this._clones.length / 2 }, i.prototype.items = function (e) { return e === r ? this._items.slice() : (e = this.normalize(e, !0), this._items[e]) }, i.prototype.mergers = function (e) { return e === r ? this._mergers.slice() : (e = this.normalize(e, !0), this._mergers[e]) }, i.prototype.clones = function (t) { var n = this._clones.length / 2, i = n + this._items.length, s = function (e) { return e % 2 === 0 ? i + e / 2 : n - (e + 1) / 2 }; return t === r ? e.map(this._clones, function (e, t) { return s(t) }) : e.map(this._clones, function (e, n) { return e === t ? s(n) : null }) }, i.prototype.speed = function (e) { return e !== r && (this._speed = e), this._speed }, i.prototype.coordinates = function (t) { var n = null; return t === r ? e.map(this._coordinates, e.proxy(function (e, t) { return this.coordinates(t) }, this)) : (this.settings.center ? (n = this._coordinates[t], n += (this.width() - n + (this._coordinates[t - 1] || 0)) / 2 * (this.settings.rtl ? -1 : 1)) : n = this._coordinates[t - 1] || 0, n) }, i.prototype.duration = function (e, t, n) { return Math.min(Math.max(Math.abs(t - e), 1), 6) * Math.abs(n || this.settings.smartSpeed) }, i.prototype.to = function (n, r) { if (this.settings.loop) { var i = n - this.relative(this.current()), s = this.current(), o = this.current(), u = this.current() + i, a = 0 > o - u ? !0 : !1, f = this._clones.length + this._items.length; u < this.settings.items && a === !1 ? (s = o + this._items.length, this.reset(s)) : u >= f - this.settings.items && a === !0 && (s = o - this._items.length, this.reset(s)), t.clearTimeout(this.e._goToLoop), this.e._goToLoop = t.setTimeout(e.proxy(function () { this.speed(this.duration(this.current(), s + i, r)), this.current(s + i), this.update() }, this), 30) } else this.speed(this.duration(this.current(), n, r)), this.current(n), this.update() }, i.prototype.next = function (e) { e = e || !1, this.to(this.relative(this.current()) + 1, e) }, i.prototype.prev = function (e) { e = e || !1, this.to(this.relative(this.current()) - 1, e) }, i.prototype.transitionEnd = function (e) { return e !== r && (e.stopPropagation(), (e.target || e.srcElement || e.originalTarget) !== this.$stage.get(0)) ? !1 : (this.state.inMotion = !1, void this.trigger("translated")) }, i.prototype.viewport = function () { var r; if (this.options.responsiveBaseElement !== t) r = e(this.options.responsiveBaseElement).width(); else if (t.innerWidth) r = t.innerWidth; else { if (!n.documentElement || !n.documentElement.clientWidth) throw "Can not detect viewport width."; r = n.documentElement.clientWidth } return r }, i.prototype.replace = function (t) { this.$stage.empty(), this._items = [], t && (t = t instanceof jQuery ? t : e(t)), this.settings.nestedItemSelector && (t = t.find("." + this.settings.nestedItemSelector)), t.filter(function () { return 1 === this.nodeType }).each(e.proxy(function (e, t) { t = this.prepare(t), this.$stage.append(t), this._items.push(t), this._mergers.push(1 * t.find("[data-merge]").andSelf("[data-merge]").attr("data-merge") || 1) }, this)), this.reset(e.isNumeric(this.settings.startPosition) ? this.settings.startPosition : 0), this.invalidate("items") }, i.prototype.add = function (e, t) { t = t === r ? this._items.length : this.normalize(t, !0), this.trigger("add", { content: e, position: t }), 0 === this._items.length || t === this._items.length ? (this.$stage.append(e), this._items.push(e), this._mergers.push(1 * e.find("[data-merge]").andSelf("[data-merge]").attr("data-merge") || 1)) : (this._items[t].before(e), this._items.splice(t, 0, e), this._mergers.splice(t, 0, 1 * e.find("[data-merge]").andSelf("[data-merge]").attr("data-merge") || 1)), this.invalidate("items"), this.trigger("added", { content: e, position: t }) }, i.prototype.remove = function (e) { e = this.normalize(e, !0), e !== r && (this.trigger("remove", { content: this._items[e], position: e }), this._items[e].remove(), this._items.splice(e, 1), this._mergers.splice(e, 1), this.invalidate("items"), this.trigger("removed", { content: null, position: e })) }, i.prototype.addTriggerableEvents = function () { var t = e.proxy(function (t, n) { return e.proxy(function (e) { e.relatedTarget !== this && (this.suppress([n]), t.apply(this, [].slice.call(arguments, 1)), this.release([n])) }, this) }, this); e.each({ next: this.next, prev: this.prev, to: this.to, destroy: this.destroy, refresh: this.refresh, replace: this.replace, add: this.add, remove: this.remove }, e.proxy(function (e, n) { this.$element.on(e + ".owl.carousel", t(n, e + ".owl.carousel")) }, this)) }, i.prototype.watchVisibility = function () { function n(e) { return e.offsetWidth > 0 && e.offsetHeight > 0 } function r() { n(this.$element.get(0)) && (this.$element.removeClass("IM-hidden"), this.refresh(), t.clearInterval(this.e._checkVisibile)) } n(this.$element.get(0)) || (this.$element.addClass("IM-hidden"), t.clearInterval(this.e._checkVisibile), this.e._checkVisibile = t.setInterval(e.proxy(r, this), 500)) }, i.prototype.preloadAutoWidthImages = function (t) { var n, r, i, s; n = 0, r = this, t.each(function (o, u) { i = e(u), s = new Image, s.onload = function () { n++, i.attr("src", s.src), i.css("opacity", 1), n >= t.length && (r.state.imagesLoaded = !0, r.initialize()) }, s.src = i.attr("src") || i.attr("data-src") || i.attr("data-src-retina") }) }, i.prototype.destroy = function () { this.$element.hasClass(this.settings.themeClass) && this.$element.removeClass(this.settings.themeClass), this.settings.responsive !== !1 && e(t).off("resize.owl.carousel"), this.transitionEndVendor && this.off(this.$stage.get(0), this.transitionEndVendor, this.e._transitionEnd); for (var r in this._plugins) this._plugins[r].destroy(); (this.settings.mouseDrag || this.settings.touchDrag) && (this.$stage.off("mousedown touchstart touchcancel"), e(n).off(".owl.dragEvents"), this.$stage.get(0).onselectstart = function () { }, this.$stage.off("dragstart", function () { return !1 })), this.$element.off(".owl"), this.$stage.children(".cloned").remove(), this.e = null, this.$element.removeData("owlCarousel"), this.$stage.children().contents().unwrap(), this.$stage.children().unwrap(), this.$stage.unwrap() }, i.prototype.op = function (e, t, n) { var r = this.settings.rtl; switch (t) { case "<": return r ? e > n : n > e; case ">": return r ? n > e : e > n; case ">=": return r ? n >= e : e >= n; case "<=": return r ? e >= n : n >= e } }, i.prototype.on = function (e, t, n, r) { e.addEventListener ? e.addEventListener(t, n, r) : e.attachEvent && e.attachEvent("on" + t, n) }, i.prototype.off = function (e, t, n, r) { e.removeEventListener ? e.removeEventListener(t, n, r) : e.detachEvent && e.detachEvent("on" + t, n) }, i.prototype.trigger = function (t, n, r) { var i = { item: { count: this._items.length, index: this.current() } }, s = e.camelCase(e.grep(["on", t, r], function (e) { return e }).join("-").toLowerCase()), o = e.Event([t, "owl", r || "carousel"].join(".").toLowerCase(), e.extend({ relatedTarget: this }, i, n)); return this._supress[t] || (e.each(this._plugins, function (e, t) { t.onTrigger && t.onTrigger(o) }), this.$element.trigger(o), this.settings && "function" == typeof this.settings[s] && this.settings[s].apply(this, o)), o }, i.prototype.suppress = function (t) { e.each(t, e.proxy(function (e, t) { this._supress[t] = !0 }, this)) }, i.prototype.release = function (t) { e.each(t, e.proxy(function (e, t) { delete this._supress[t] }, this)) }, i.prototype.browserSupport = function () { if (this.support3d = f(), this.support3d) { this.transformVendor = a(); var e = ["transitionend", "webkitTransitionEnd", "transitionend", "oTransitionEnd"]; this.transitionEndVendor = e[u()], this.vendorName = this.transformVendor.replace(/Transform/i, ""), this.vendorName = "" !== this.vendorName ? "-" + this.vendorName.toLowerCase() + "-" : "" } this.state.orientation = t.orientation }, e.fn.owlCarousel = function (t) { return this.each(function () { e(this).data("owlCarousel") || e(this).data("owlCarousel", new i(this, t)) }) }, e.fn.owlCarousel.Constructor = i }(window.Zepto || window.jQuery, window, document), function (e, t) { var n = function (t) { this._core = t, this._loaded = [], this._handlers = { "initialized.owl.carousel change.owl.carousel": e.proxy(function (t) { if (t.namespace && this._core.settings && this._core.settings.lazyLoad && (t.property && "position" == t.property.name || "initialized" == t.type)) for (var n = this._core.settings, r = n.center && Math.ceil(n.items / 2) || n.items, i = n.center && -1 * r || 0, s = (t.property && t.property.value || this._core.current()) + i, o = this._core.clones().length, u = e.proxy(function (e, t) { this.load(t) }, this) ; i++ < r;) this.load(o / 2 + this._core.relative(s)), o && e.each(this._core.clones(this._core.relative(s++)), u) }, this) }, this._core.options = e.extend({}, n.Defaults, this._core.options), this._core.$element.on(this._handlers) }; n.Defaults = { lazyLoad: !1 }, n.prototype.load = function (n) { var r = this._core.$stage.children().eq(n), i = r && r.find(".IM-lazy"); !i || e.inArray(r.get(0), this._loaded) > -1 || (i.each(e.proxy(function (n, r) { var i, s = e(r), o = t.devicePixelRatio > 1 && s.attr("data-src-retina") || s.attr("data-src"); this._core.trigger("load", { element: s, url: o }, "lazy"), s.is("img") ? s.one("load.owl.lazy", e.proxy(function () { s.css("opacity", 1), this._core.trigger("loaded", { element: s, url: o }, "lazy") }, this)).attr("src", o) : (i = new Image, i.onload = e.proxy(function () { s.css({ "background-image": "url(" + o + ")", opacity: "1" }), this._core.trigger("loaded", { element: s, url: o }, "lazy") }, this), i.src = o) }, this)), this._loaded.push(r.get(0))) }, n.prototype.destroy = function () { var e, t; for (e in this.handlers) this._core.$element.off(e, this.handlers[e]); for (t in Object.getOwnPropertyNames(this)) "function" != typeof this[t] && (this[t] = null) }, e.fn.owlCarousel.Constructor.Plugins.Lazy = n }(window.Zepto || window.jQuery, window, document), function (e) { var t = function (n) { this._core = n, this._handlers = { "initialized.owl.carousel": e.proxy(function () { this._core.settings.autoHeight && this.update() }, this), "changed.owl.carousel": e.proxy(function (e) { this._core.settings.autoHeight && "position" == e.property.name && this.update() }, this), "loaded.owl.lazy": e.proxy(function (e) { this._core.settings.autoHeight && e.element.closest("." + this._core.settings.itemClass) === this._core.$stage.children().eq(this._core.current()) && this.update() }, this) }, this._core.options = e.extend({}, t.Defaults, this._core.options), this._core.$element.on(this._handlers) }; t.Defaults = { autoHeight: !1, autoHeightClass: "IM-height" }, t.prototype.update = function () { this._core.$stage.parent().height(this._core.$stage.children().eq(this._core.current()).height()).addClass(this._core.settings.autoHeightClass) }, t.prototype.destroy = function () { var e, t; for (e in this._handlers) this._core.$element.off(e, this._handlers[e]); for (t in Object.getOwnPropertyNames(this)) "function" != typeof this[t] && (this[t] = null) }, e.fn.owlCarousel.Constructor.Plugins.AutoHeight = t }(window.Zepto || window.jQuery, window, document), function (e, t, n) { var r = function (t) { this._core = t, this._videos = {}, this._playing = null, this._fullscreen = !1, this._handlers = { "resize.owl.carousel": e.proxy(function (e) { this._core.settings.video && !this.isInFullScreen() && e.preventDefault() }, this), "refresh.owl.carousel changed.owl.carousel": e.proxy(function () { this._playing && this.stop() }, this), "prepared.owl.carousel": e.proxy(function (t) { var n = e(t.content).find(".IM-video"); n.length && (n.css("display", "none"), this.fetch(n, e(t.content))) }, this) }, this._core.options = e.extend({}, r.Defaults, this._core.options), this._core.$element.on(this._handlers), this._core.$element.on("click.owl.video", ".IM-video-play-icon", e.proxy(function (e) { this.play(e) }, this)) }; r.Defaults = { video: !1, videoHeight: !1, videoWidth: !1 }, r.prototype.fetch = function (e, t) { var n = e.attr("data-vimeo-id") ? "vimeo" : "youtube", r = e.attr("data-vimeo-id") || e.attr("data-youtube-id"), i = e.attr("data-width") || this._core.settings.videoWidth, s = e.attr("data-height") || this._core.settings.videoHeight, o = e.attr("href"); if (!o) throw new Error("Missing video URL."); if (r = o.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/), r[3].indexOf("youtu") > -1) n = "youtube"; else { if (!(r[3].indexOf("vimeo") > -1)) throw new Error("Video URL not supported."); n = "vimeo" } r = r[6], this._videos[o] = { type: n, id: r, width: i, height: s }, t.attr("data-video", o), this.thumbnail(e, this._videos[o]) }, r.prototype.thumbnail = function (t, n) { var r, i, s, o = n.width && n.height ? 'style="width:' + n.width + "px;height:" + n.height + 'px;"' : "", u = t.find("img"), a = "src", f = "", l = this._core.settings, c = function (e) { i = '<div class="IM-video-play-icon"></div>', r = l.lazyLoad ? '<div class="IM-video-tn ' + f + '" ' + a + '="' + e + '"></div>' : '<div class="IM-video-tn" style="opacity:1;background-image:url(' + e + ')"></div>', t.after(r), t.after(i) }; return t.wrap('<div class="IM-video-wrapper"' + o + "></div>"), this._core.settings.lazyLoad && (a = "data-src", f = "IM-lazy"), u.length ? (c(u.attr(a)), u.remove(), !1) : void ("youtube" === n.type ? (s = "http://img.youtube.com/vi/" + n.id + "/hqdefault.jpg", c(s)) : "vimeo" === n.type && e.ajax({ type: "GET", url: "http://vimeo.com/api/v2/video/" + n.id + ".json", jsonp: "callback", dataType: "jsonp", success: function (e) { s = e[0].thumbnail_large, c(s) } })) }, r.prototype.stop = function () { this._core.trigger("stop", null, "video"), this._playing.find(".IM-video-frame").remove(), this._playing.removeClass("IM-video-playing"), this._playing = null }, r.prototype.play = function (t) { this._core.trigger("play", null, "video"), this._playing && this.stop(); var n, r, i = e(t.target || t.srcElement), s = i.closest("." + this._core.settings.itemClass), o = this._videos[s.attr("data-video")], u = o.width || "100%", a = o.height || this._core.$stage.height(); "youtube" === o.type ? n = '<iframe width="' + u + '" height="' + a + '" src="http://www.youtube.com/embed/' + o.id + "?autoplay=1&v=" + o.id + '" frameborder="0" allowfullscreen></iframe>' : "vimeo" === o.type && (n = '<iframe src="http://player.vimeo.com/video/' + o.id + '?autoplay=1" width="' + u + '" height="' + a + '" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'), s.addClass("IM-video-playing"), this._playing = s, r = e('<div style="height:' + a + "px; width:" + u + 'px" class="IM-video-frame">' + n + "</div>"), i.after(r) }, r.prototype.isInFullScreen = function () { var r = n.fullscreenElement || n.mozFullScreenElement || n.webkitFullscreenElement; return r && e(r).parent().hasClass("IM-video-frame") && (this._core.speed(0), this._fullscreen = !0), r && this._fullscreen && this._playing ? !1 : this._fullscreen ? (this._fullscreen = !1, !1) : this._playing && this._core.state.orientation !== t.orientation ? (this._core.state.orientation = t.orientation, !1) : !0 }, r.prototype.destroy = function () { var e, t; this._core.$element.off("click.owl.video"); for (e in this._handlers) this._core.$element.off(e, this._handlers[e]); for (t in Object.getOwnPropertyNames(this)) "function" != typeof this[t] && (this[t] = null) }, e.fn.owlCarousel.Constructor.Plugins.Video = r }(window.Zepto || window.jQuery, window, document), function (e, t, n, r) { var i = function (t) { this.core = t, this.core.options = e.extend({}, i.Defaults, this.core.options), this.swapping = !0, this.previous = r, this.next = r, this.handlers = { "change.owl.carousel": e.proxy(function (e) { "position" == e.property.name && (this.previous = this.core.current(), this.next = e.property.value) }, this), "drag.owl.carousel dragged.owl.carousel translated.owl.carousel": e.proxy(function (e) { this.swapping = "translated" == e.type }, this), "translating.owl.carousel": e.proxy(function () { this.swapping && (this.core.options.animateOut || this.core.options.animateIn) && this.swap() }, this) }, this.core.$element.on(this.handlers) }; i.Defaults = { animateOut: !1, animateIn: !1 }, i.prototype.swap = function () { if (1 === this.core.settings.items && this.core.support3d) { this.core.speed(0); var t, n = e.proxy(this.clear, this), r = this.core.$stage.children().eq(this.previous), i = this.core.$stage.children().eq(this.next), s = this.core.settings.animateIn, o = this.core.settings.animateOut; this.core.current() !== this.previous && (o && (t = this.core.coordinates(this.previous) - this.core.coordinates(this.next), r.css({ left: t + "px" }).addClass("animated IM-animated-out").addClass(o).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", n)), s && i.addClass("animated IM-animated-in").addClass(s).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", n)) } }, i.prototype.clear = function (t) { e(t.target).css({ left: "" }).removeClass("animated IM-animated-out IM-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut), this.core.transitionEnd() }, i.prototype.destroy = function () { var e, t; for (e in this.handlers) this.core.$element.off(e, this.handlers[e]); for (t in Object.getOwnPropertyNames(this)) "function" != typeof this[t] && (this[t] = null) }, e.fn.owlCarousel.Constructor.Plugins.Animate = i }(window.Zepto || window.jQuery, window, document), function (e, t, n) { var r = function (t) { this.core = t, this.core.options = e.extend({}, r.Defaults, this.core.options), this.handlers = { "translated.owl.carousel refreshed.owl.carousel": e.proxy(function () { this.autoplay() }, this), "play.owl.autoplay": e.proxy(function (e, t, n) { this.play(t, n) }, this), "stop.owl.autoplay": e.proxy(function () { this.stop() }, this), "mouseover.owl.autoplay": e.proxy(function () { this.core.settings.autoplayHoverPause && this.pause() }, this), "mouseleave.owl.autoplay": e.proxy(function () { this.core.settings.autoplayHoverPause && this.autoplay() }, this) }, this.core.$element.on(this.handlers) }; r.Defaults = { autoplay: !1, autoplayTimeout: 5e3, autoplayHoverPause: !1, autoplaySpeed: !1 }, r.prototype.autoplay = function () { this.core.settings.autoplay && !this.core.state.videoPlay ? (t.clearInterval(this.interval), this.interval = t.setInterval(e.proxy(function () { this.play() }, this), this.core.settings.autoplayTimeout)) : t.clearInterval(this.interval) }, r.prototype.play = function () { return n.hidden === !0 || this.core.state.isTouch || this.core.state.isScrolling || this.core.state.isSwiping || this.core.state.inMotion ? void 0 : this.core.settings.autoplay === !1 ? void t.clearInterval(this.interval) : void this.core.next(this.core.settings.autoplaySpeed) }, r.prototype.stop = function () { t.clearInterval(this.interval) }, r.prototype.pause = function () { t.clearInterval(this.interval) }, r.prototype.destroy = function () { var e, n; t.clearInterval(this.interval); for (e in this.handlers) this.core.$element.off(e, this.handlers[e]); for (n in Object.getOwnPropertyNames(this)) "function" != typeof this[n] && (this[n] = null) }, e.fn.owlCarousel.Constructor.Plugins.autoplay = r }(window.Zepto || window.jQuery, window, document), function (e) { "use strict"; var t = function (n) { this._core = n, this._initialized = !1, this._pages = [], this._controls = {}, this._templates = [], this.$element = this._core.$element, this._overrides = { next: this._core.next, prev: this._core.prev, to: this._core.to }, this._handlers = { "prepared.owl.carousel": e.proxy(function (t) { this._core.settings.dotsData && this._templates.push(e(t.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot")) }, this), "add.owl.carousel": e.proxy(function (t) { this._core.settings.dotsData && this._templates.splice(t.position, 0, e(t.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot")) }, this), "remove.owl.carousel prepared.owl.carousel": e.proxy(function (e) { this._core.settings.dotsData && this._templates.splice(e.position, 1) }, this), "change.owl.carousel": e.proxy(function (e) { if ("position" == e.property.name && !this._core.state.revert && !this._core.settings.loop && this._core.settings.navRewind) { var t = this._core.current(), n = this._core.maximum(), r = this._core.minimum(); e.data = e.property.value > n ? t >= n ? r : n : e.property.value < r ? n : e.property.value } }, this), "changed.owl.carousel": e.proxy(function (e) { "position" == e.property.name && this.draw() }, this), "refreshed.owl.carousel": e.proxy(function () { this._initialized || (this.initialize(), this._initialized = !0), this._core.trigger("refresh", null, "navigation"), this.update(), this.draw(), this._core.trigger("refreshed", null, "navigation") }, this) }, this._core.options = e.extend({}, t.Defaults, this._core.options), this.$element.on(this._handlers) }; t.Defaults = { nav: !0, navRewind: !1, navText: ["prev", "next"], navSpeed: !1, navElement: "div", navContainer: !1, navContainerClass: "IM-nav", navClass: ["IM-prev", "IM-next"], slideBy: 2, dotClass: "IM-dot", dotsClass: "IM-dots", dots: !1, dotsEach: !1, dotData: !1, dotsSpeed: !1, dotsContainer: !1, controlsClass: "IM-controls" }, t.prototype.initialize = function () { var t, n, r = this._core.settings; r.dotsData || (this._templates = [e("<div>").addClass(r.dotClass).append(e("<span>")).prop("outerHTML")]), r.navContainer && r.dotsContainer || (this._controls.$container = e("<div>").addClass(r.controlsClass).appendTo(this.$element)), this._controls.$indicators = r.dotsContainer ? e(r.dotsContainer) : e("<div>").hide().addClass(r.dotsClass).appendTo(this._controls.$container), this._controls.$indicators.on("click", "div", e.proxy(function (t) { var n = e(t.target).parent().is(this._controls.$indicators) ? e(t.target).index() : e(t.target).parent().index(); t.preventDefault(), this.to(n, r.dotsSpeed) }, this)), t = r.navContainer ? e(r.navContainer) : e("<div>").addClass(r.navContainerClass).prependTo(this._controls.$container), this._controls.$next = e("<" + r.navElement + ">"), this._controls.$previous = this._controls.$next.clone(), this._controls.$previous.addClass(r.navClass[0]).html(r.navText[0]).hide().prependTo(t).on("click", e.proxy(function () { this.prev(r.navSpeed) }, this)), this._controls.$next.addClass(r.navClass[1]).html(r.navText[1]).hide().appendTo(t).on("click", e.proxy(function () { this.next(r.navSpeed) }, this)); for (n in this._overrides) this._core[n] = e.proxy(this[n], this) }, t.prototype.destroy = function () { var e, t, n, r; for (e in this._handlers) this.$element.off(e, this._handlers[e]); for (t in this._controls) this._controls[t].remove(); for (r in this.overides) this._core[r] = this._overrides[r]; for (n in Object.getOwnPropertyNames(this)) "function" != typeof this[n] && (this[n] = null) }, t.prototype.update = function () { var e, t, n, r = this._core.settings, i = this._core.clones().length / 2, s = i + this._core.items().length, o = r.center || r.autoWidth || r.dotData ? 1 : r.dotsEach || r.items; if ("page" !== r.slideBy && (r.slideBy = Math.min(r.slideBy, r.items)), r.dots || "page" == r.slideBy) for (this._pages = [], e = i, t = 0, n = 0; s > e; e++) (t >= o || 0 === t) && (this._pages.push({ start: e - i, end: e - i + o - 1 }), t = 0, ++n), t += this._core.mergers(this._core.relative(e)) }, t.prototype.draw = function () { var t, n, r = "", i = this._core.settings, s = (this._core.$stage.children(), this._core.relative(this._core.current())); if (!i.nav || i.loop || i.navRewind || (this._controls.$previous.toggleClass("disabled", 0 >= s), this._controls.$next.toggleClass("disabled", s >= this._core.maximum())), this._controls.$previous.toggle(i.nav), this._controls.$next.toggle(i.nav), i.dots) { if (t = this._pages.length - this._controls.$indicators.children().length, i.dotData && 0 !== t) { for (n = 0; n < this._controls.$indicators.children().length; n++) r += this._templates[this._core.relative(n)]; this._controls.$indicators.html(r) } else t > 0 ? (r = (new Array(t + 1)).join(this._templates[0]), this._controls.$indicators.append(r)) : 0 > t && this._controls.$indicators.children().slice(t).remove(); this._controls.$indicators.find(".active").removeClass("active"), this._controls.$indicators.children().eq(e.inArray(this.current(), this._pages)).addClass("active") } this._controls.$indicators.toggle(i.dots) }, t.prototype.onTrigger = function (t) { var n = this._core.settings; t.page = { index: e.inArray(this.current(), this._pages), count: this._pages.length, size: n && (n.center || n.autoWidth || n.dotData ? 1 : n.dotsEach || n.items) } }, t.prototype.current = function () { var t = this._core.relative(this._core.current()); return e.grep(this._pages, function (e) { return e.start <= t && e.end >= t }).pop() }, t.prototype.getPosition = function (t) { var n, r, i = this._core.settings; return "page" == i.slideBy ? (n = e.inArray(this.current(), this._pages), r = this._pages.length, t ? ++n : --n, n = this._pages[(n % r + r) % r].start) : (n = this._core.relative(this._core.current()), r = this._core.items().length, t ? n += i.slideBy : n -= i.slideBy), n }, t.prototype.next = function (t) { e.proxy(this._overrides.to, this._core)(this.getPosition(!0), t) }, t.prototype.prev = function (t) { e.proxy(this._overrides.to, this._core)(this.getPosition(!1), t) }, t.prototype.to = function (t, n, r) { var i; r ? e.proxy(this._overrides.to, this._core)(t, n) : (i = this._pages.length, e.proxy(this._overrides.to, this._core)(this._pages[(t % i + i) % i].start, n)) }, e.fn.owlCarousel.Constructor.Plugins.Navigation = t }(window.Zepto || window.jQuery, window, document), function (e, t) { "use strict"; var n = function (r) { this._core = r, this._hashes = {}, this.$element = this._core.$element, this._handlers = { "initialized.owl.carousel": e.proxy(function () { "URLHash" == this._core.settings.startPosition && e(t).trigger("hashchange.owl.navigation") }, this), "prepared.owl.carousel": e.proxy(function (t) { var n = e(t.content).find("[data-hash]").andSelf("[data-hash]").attr("data-hash"); this._hashes[n] = t.content }, this) }, this._core.options = e.extend({}, n.Defaults, this._core.options), this.$element.on(this._handlers), e(t).on("hashchange.owl.navigation", e.proxy(function () { var e = t.location.hash.substring(1), n = this._core.$stage.children(), r = this._hashes[e] && n.index(this._hashes[e]) || 0; return e ? void this._core.to(r, !1, !0) : !1 }, this)) }; n.Defaults = { URLhashListener: !1 }, n.prototype.destroy = function () { var n, r; e(t).off("hashchange.owl.navigation"); for (n in this._handlers) this._core.$element.off(n, this._handlers[n]); for (r in Object.getOwnPropertyNames(this)) "function" != typeof this[r] && (this[r] = null) }, e.fn.owlCarousel.Constructor.Plugins.Hash = n }(window.Zepto || window.jQuery, window, document); !function (e) { e.fn.modal = function (t) { function n() { e("." + t.videoClass).attr("src", t.video), u.hide(), s.css({ top: e(window).height() / 2 - s.outerHeight() / 2 + e(window).scrollTop(), left: e(window).width() / 2 - s.outerWidth() / 2 + e(window).scrollLeft() }), a === !1 ? (o.css({ opacity: t.opacity, backgroundColor: "#" + t.background }), o[t.animationEffect](t.animationSpeed), s.delay(t.animationSpeed)[t.animationEffect](t.animationSpeed)) : s.show(), a = !0 } function r() { u.stop(!0).animate({ top: e(window).height() / 2 - u.outerHeight() / 2 + e(window).scrollTop(), left: e(window).width() / 2 - u.outerWidth() / 2 + e(window).scrollLeft() }, t.moveModalSpeed) } function i() { return e("." + t.videoClass).attr("src", ""), a = !1, u.fadeOut(100, function () { "slideDown" === t.animationEffect ? o.slideUp() : "fadeIn" === t.animationEffect && o.fadeOut() }), !1 } t = e.extend({ trigger: ".modalLink", olay: "div.overlay", modals: "div.modal", animationEffect: "fadeIn", animationSpeed: 400, moveModalSpeed: "slow", background: "000", opacity: .8, openOnLoad: !1, docClose: !0, closeByEscape: !0, moveOnScroll: !0, resizeWindow: !0, video: "", videoClass: "video", close: ".closeBtn" }, t); var s, o = e(t.olay), u = e(t.modals), a = !1; return "fadein" === t.animationEffect && (t.animationEffect = "fadeIn"), "slidedown" === t.animationEffect && (t.animationEffect = "slideDown"), o.css({ opacity: 0 }), t.openOnLoad ? n() : (o.hide(), u.hide()), e(t.trigger).bind("click", function (t) { t.preventDefault(), e(".modalLink").length > 1 ? (getModal = e(this).attr("href"), s = e(getModal)) : s = e(".modal"), n() }), t.docClose && o.bind("click", i), e(t.close).bind("click", i), t.closeByEscape && e(window).bind("keyup", function (e) { 27 === e.which && i() }), t.resizeWindow ? (e(window).bind("resize", r), t.moveOnScroll ? void e(window).bind("scroll", r) : !1) : !1 } }(jQuery); $(document).ready(function () { $(".modalLink").modal({ trigger: ".modalLink", olay: "div.overlay", modals: "div.modal", animationEffect: "slideDown", animationSpeed: 400, moveModalSpeed: "slow", background: "000000", opacity: .8, openOnLoad: !1, docClose: !0, closeByEscape: !0, moveOnScroll: !0, resizeWindow: !0, video: "http://player.vimeo.com/video/2355334?color=eb5a3d", videoClass: "video", close: ".closeBtn" }) }); !function (e, t) { !function (e) { if ("function" == typeof define && define.amd) define(["jquery", "jquery-mousewheel"], e); else { var n = "https:" == t.location.protocol ? "https:" : "http:"; $.event.special.mousewheel || $("head").append(decodeURI("%3Cscript src=" + n + "//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.11/jquery.mousewheel.min.js%3E%3C/script%3E")), e(jQuery) } }(function (n) { var r = "mCustomScrollbar", i = "mCS", s = ".mCustomScrollbar", o = { setWidth: !1, setHeight: !1, setTop: 0, setLeft: 0, axis: "y", scrollbarPosition: "inside", scrollInertia: 950, autoDraggerLength: !0, autoHideScrollbar: !1, autoExpandScrollbar: !1, alwaysShowScrollbar: 0, snapAmount: null, snapOffset: 0, mouseWheel: { enable: !0, scrollAmount: "1000", axis: "y", preventDefault: !1, deltaFactor: "auto", normalizeDelta: !1, invert: !1, disableOver: ["select", "option", "keygen", "datalist", "textarea"] }, scrollButtons: { enable: !1, scrollType: "stepless", scrollAmount: "auto" }, keyboard: { enable: !0, scrollType: "stepless", scrollAmount: "auto" }, contentTouchScroll: 25, advanced: { autoExpandHorizontalScroll: !1, autoScrollOnFocus: "input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']", updateOnContentResize: !0, updateOnImageLoad: !0, updateOnSelectorChange: !1 }, theme: "light", callbacks: { onScrollStart: !1, onScroll: !1, onTotalScroll: !1, onTotalScrollBack: !1, whileScrolling: !1, onTotalScrollOffset: 0, onTotalScrollBackOffset: 0, alwaysTriggerOffsets: !0, onOverflowY: !1, onOverflowX: !1, onOverflowYNone: !1, onOverflowXNone: !1 }, live: !1, liveSelector: null }, u = 0, a = {}, f = function (e) { a[e] && (clearTimeout(a[e]), p._delete.call(null, a[e])) }, l = e.attachEvent && !e.addEventListener ? 1 : 0, c = !1, h = { init: function (e) { var e = n.extend(!0, {}, o, e), t = p._selector.call(this); if (e.live) { var r = e.liveSelector || this.selector || s, l = n(r); if ("off" === e.live) return void f(r); a[r] = setTimeout(function () { l.mCustomScrollbar(e), "once" === e.live && l.length && f(r) }, 500) } else f(r); return e.setWidth = e.set_width ? e.set_width : e.setWidth, e.setHeight = e.set_height ? e.set_height : e.setHeight, e.axis = e.horizontalScroll ? "x" : p._findAxis.call(null, e.axis), e.scrollInertia = e.scrollInertia > 0 && e.scrollInertia < 17 ? 17 : e.scrollInertia, "object" != typeof e.mouseWheel && 1 == e.mouseWheel && (e.mouseWheel = { enable: !0, scrollAmount: "1000", axis: "y", preventDefault: !1, deltaFactor: "auto", normalizeDelta: !1, invert: !1 }), e.mouseWheel.scrollAmount = e.mouseWheelPixels ? e.mouseWheelPixels : e.mouseWheel.scrollAmount, e.mouseWheel.normalizeDelta = e.advanced.normalizeMouseWheelDelta ? e.advanced.normalizeMouseWheelDelta : e.mouseWheel.normalizeDelta, e.scrollButtons.scrollType = p._findScrollButtonsType.call(null, e.scrollButtons.scrollType), p._theme.call(null, e), n(t).each(function () { var t = n(this); if (!t.data(i)) { t.data(i, { idx: ++u, opt: e, scrollRatio: { y: null, x: null }, overflowed: null, contentReset: { y: null, x: null }, bindEvents: !1, tweenRunning: !1, sequential: {}, langDir: t.css("direction"), cbOffsets: null, trigger: null }); var r = t.data(i).opt, s = t.data("mcs-axis"), o = t.data("mcs-scrollbar-position"), a = t.data("mcs-theme"); s && (r.axis = s), o && (r.scrollbarPosition = o), a && (r.theme = a, p._theme.call(null, r)), p._pluginMarkup.call(this), h.update.call(null, t) } }) }, update: function (e) { var t = e || p._selector.call(this); return n(t).each(function () { var e = n(this); if (e.data(i)) { var t = e.data(i), r = t.opt, s = n("#mCSB_" + t.idx + "_container"), o = [n("#mCSB_" + t.idx + "_dragger_vertical"), n("#mCSB_" + t.idx + "_dragger_horizontal")]; if (!s.length) return; t.tweenRunning && p._stop.call(null, e), e.hasClass("mCS_disabled") && e.removeClass("mCS_disabled"), e.hasClass("mCS_destroyed") && e.removeClass("mCS_destroyed"), p._maxHeight.call(this), p._expandContentHorizontally.call(this), "y" === r.axis || r.advanced.autoExpandHorizontalScroll || s.css("width", p._contentWidth(s.children())), t.overflowed = p._overflowed.call(this), p._scrollbarVisibility.call(this), r.autoDraggerLength && p._setDraggerLength.call(this), p._scrollRatio.call(this), p._bindEvents.call(this); var u = [Math.abs(s[0].offsetTop), Math.abs(s[0].offsetLeft)]; "x" !== r.axis && (t.overflowed[0] ? o[0].height() > o[0].parent().height() ? p._resetContentPosition.call(this) : (p._scrollTo.call(this, e, u[0].toString(), { dir: "y", dur: 0, overwrite: "none" }), t.contentReset.y = null) : (p._resetContentPosition.call(this), "y" === r.axis ? p._unbindEvents.call(this) : "yx" === r.axis && t.overflowed[1] && p._scrollTo.call(this, e, u[1].toString(), { dir: "x", dur: 0, overwrite: "none" }))), "y" !== r.axis && (t.overflowed[1] ? o[1].width() > o[1].parent().width() ? p._resetContentPosition.call(this) : (p._scrollTo.call(this, e, u[1].toString(), { dir: "x", dur: 0, overwrite: "none" }), t.contentReset.x = null) : (p._resetContentPosition.call(this), "x" === r.axis ? p._unbindEvents.call(this) : "yx" === r.axis && t.overflowed[0] && p._scrollTo.call(this, e, u[0].toString(), { dir: "y", dur: 0, overwrite: "none" }))), p._autoUpdate.call(this) } }) }, scrollTo: function (e, t) { if ("undefined" != typeof e && null != e) { var r = p._selector.call(this); return n(r).each(function () { var r = n(this); if (r.data(i)) { var s = r.data(i), o = s.opt, u = { trigger: "external", scrollInertia: o.scrollInertia, scrollEasing: "mcsEaseInOut", moveDragger: !1, timeout: 60, callbacks: !0, onStart: !0, onUpdate: !0, onComplete: !0 }, a = n.extend(!0, {}, u, t), f = p._arr.call(this, e), l = a.scrollInertia > 0 && a.scrollInertia < 17 ? 17 : a.scrollInertia; f[0] = p._to.call(this, f[0], "y"), f[1] = p._to.call(this, f[1], "x"), a.moveDragger && (f[0] *= s.scrollRatio.y, f[1] *= s.scrollRatio.x), a.dur = l, setTimeout(function () { null !== f[0] && "undefined" != typeof f[0] && "x" !== o.axis && s.overflowed[0] && (a.dir = "y", a.overwrite = "all", p._scrollTo.call(this, r, f[0].toString(), a)), null !== f[1] && "undefined" != typeof f[1] && "y" !== o.axis && s.overflowed[1] && (a.dir = "x", a.overwrite = "none", p._scrollTo.call(this, r, f[1].toString(), a)) }, a.timeout) } }) } }, stop: function () { var e = p._selector.call(this); return n(e).each(function () { var e = n(this); e.data(i) && p._stop.call(null, e) }) }, disable: function (e) { var t = p._selector.call(this); return n(t).each(function () { var t = n(this); if (t.data(i)) { { var r = t.data(i); r.opt } p._autoUpdate.call(this, "remove"), p._unbindEvents.call(this), e && p._resetContentPosition.call(this), p._scrollbarVisibility.call(this, !0), t.addClass("mCS_disabled") } }) }, destroy: function () { var e = p._selector.call(this); return n(e).each(function () { var t = n(this); if (t.data(i)) { var s = t.data(i), o = s.opt, u = n("#mCSB_" + s.idx), a = n("#mCSB_" + s.idx + "_container"), l = n(".mCSB_" + s.idx + "_scrollbar"); o.live && f(e), p._autoUpdate.call(this, "remove"), p._unbindEvents.call(this), p._resetContentPosition.call(this), t.removeData(i), p._delete.call(null, this.mcs), l.remove(), u.replaceWith(a.contents()), t.removeClass(r + " _" + i + "_" + s.idx + " mCS-autoHide mCS-dir-rtl mCS_no_scrollbar mCS_disabled").addClass("mCS_destroyed") } }) } }, p = { _selector: function () { return "object" != typeof n(this) || n(this).length < 1 ? s : this }, _theme: function (e) { var t = ["rounded", "rounded-dark", "rounded-dots", "rounded-dots-dark"], r = ["rounded-dots", "rounded-dots-dark", "3d", "3d-dark", "3d-thick", "3d-thick-dark", "inset", "inset-dark", "inset-2", "inset-2-dark", "inset-3", "inset-3-dark"], i = ["minimal", "minimal-dark"], s = ["minimal", "minimal-dark"], o = ["minimal", "minimal-dark"]; e.autoDraggerLength = n.inArray(e.theme, t) > -1 ? !1 : e.autoDraggerLength, e.autoExpandScrollbar = n.inArray(e.theme, r) > -1 ? !1 : e.autoExpandScrollbar, e.scrollButtons.enable = n.inArray(e.theme, i) > -1 ? !1 : e.scrollButtons.enable, e.autoHideScrollbar = n.inArray(e.theme, s) > -1 ? !0 : e.autoHideScrollbar, e.scrollbarPosition = n.inArray(e.theme, o) > -1 ? "outside" : e.scrollbarPosition }, _findAxis: function (e) { return "yx" === e || "xy" === e || "auto" === e ? "yx" : "x" === e || "horizontal" === e ? "x" : "y" }, _findScrollButtonsType: function (e) { return "stepped" === e || "pixels" === e || "step" === e || "click" === e ? "stepped" : "stepless" }, _pluginMarkup: function () { var e = n(this), t = e.data(i), s = t.opt, o = s.autoExpandScrollbar ? " mCSB_scrollTools_onDrag_expand" : "", u = ["<div id='mCSB_" + t.idx + "_scrollbar_vertical' class='mCSB_scrollTools mCSB_" + t.idx + "_scrollbar mCS-" + s.theme + " mCSB_scrollTools_vertical" + o + "'><div class='mCSB_draggerContainer'><div id='mCSB_" + t.idx + "_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>", "<div id='mCSB_" + t.idx + "_scrollbar_horizontal' class='mCSB_scrollTools mCSB_" + t.idx + "_scrollbar mCS-" + s.theme + " mCSB_scrollTools_horizontal" + o + "'><div class='mCSB_draggerContainer'><div id='mCSB_" + t.idx + "_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"], a = "yx" === s.axis ? "mCSB_vertical_horizontal" : "x" === s.axis ? "mCSB_horizontal" : "mCSB_vertical", f = "yx" === s.axis ? u[0] + u[1] : "x" === s.axis ? u[1] : u[0], l = "yx" === s.axis ? "<div id='mCSB_" + t.idx + "_container_wrapper' class='mCSB_container_wrapper' />" : "", c = s.autoHideScrollbar ? " mCS-autoHide" : "", h = "x" !== s.axis && "rtl" === t.langDir ? " mCS-dir-rtl" : ""; s.setWidth && e.css("width", s.setWidth), s.setHeight && e.css("height", s.setHeight), s.setLeft = "y" !== s.axis && "rtl" === t.langDir ? "989999px" : s.setLeft, e.addClass(r + " _" + i + "_" + t.idx + c + h).wrapInner("<div id='mCSB_" + t.idx + "' class='mCustomScrollBox mCS-" + s.theme + " " + a + "'><div id='mCSB_" + t.idx + "_container' class='mCSB_container' style='position:relative; top:" + s.setTop + "; left:" + s.setLeft + ";' dir=" + t.langDir + " /></div>"); var d = n("#mCSB_" + t.idx), v = n("#mCSB_" + t.idx + "_container"); "y" === s.axis || s.advanced.autoExpandHorizontalScroll || v.css("width", p._contentWidth(v.children())), "outside" === s.scrollbarPosition ? ("static" === e.css("position") && e.css("position", "relative"), e.css("overflow", "visible"), d.addClass("mCSB_outside").after(f)) : (d.addClass("mCSB_inside").append(f), v.wrap(l)), p._scrollButtons.call(this); var m = [n("#mCSB_" + t.idx + "_dragger_vertical"), n("#mCSB_" + t.idx + "_dragger_horizontal")]; m[0].css("min-height", m[0].height()), m[1].css("min-width", m[1].width()) }, _contentWidth: function (e) { return Math.max.apply(Math, e.map(function () { return n(this).outerWidth(!0) }).get()) }, _expandContentHorizontally: function () { var e = n(this), t = e.data(i), r = t.opt, s = n("#mCSB_" + t.idx + "_container"); r.advanced.autoExpandHorizontalScroll && "y" !== r.axis && s.css({ position: "absolute", width: "auto" }).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({ width: Math.ceil(s[0].getBoundingClientRect().right + .4) - Math.floor(s[0].getBoundingClientRect().left), position: "relative" }).unwrap() }, _scrollButtons: function () { var e = n(this), t = e.data(i), r = t.opt, s = n(".mCSB_" + t.idx + "_scrollbar:first"), o = ["<a href='#' class='mCSB_buttonUp' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonDown' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonLeft' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonRight' oncontextmenu='return false;' />"], u = ["x" === r.axis ? o[2] : o[0], "x" === r.axis ? o[3] : o[1], o[2], o[3]]; r.scrollButtons.enable && s.prepend(u[0]).append(u[1]).next(".mCSB_scrollTools").prepend(u[2]).append(u[3]) }, _maxHeight: function () { var e = n(this), t = e.data(i), r = (t.opt, n("#mCSB_" + t.idx)), s = e.css("max-height"), o = -1 !== s.indexOf("%"), u = e.css("box-sizing"); if ("none" !== s) { var a = o ? e.parent().height() * parseInt(s) / 100 : parseInt(s); "border-box" === u && (a -= e.innerHeight() - e.height() + (e.outerHeight() - e.innerHeight())), r.css("max-height", Math.round(a)) } }, _setDraggerLength: function () { var e = n(this), t = e.data(i), r = n("#mCSB_" + t.idx), s = n("#mCSB_" + t.idx + "_container"), o = [n("#mCSB_" + t.idx + "_dragger_vertical"), n("#mCSB_" + t.idx + "_dragger_horizontal")], u = [r.height() / s.outerHeight(!1), r.width() / s.outerWidth(!1)], a = [parseInt(o[0].css("min-height")), Math.round(u[0] * o[0].parent().height()), parseInt(o[1].css("min-width")), Math.round(u[1] * o[1].parent().width())], f = l && a[1] < a[0] ? a[0] : a[1], c = l && a[3] < a[2] ? a[2] : a[3]; o[0].css({ height: f, "max-height": o[0].parent().height() - 10 }).find(".mCSB_dragger_bar").css({ "line-height": a[0] + "px" }), o[1].css({ width: c, "max-width": o[1].parent().width() - 10 }) }, _scrollRatio: function () { var e = n(this), t = e.data(i), r = n("#mCSB_" + t.idx), s = n("#mCSB_" + t.idx + "_container"), o = [n("#mCSB_" + t.idx + "_dragger_vertical"), n("#mCSB_" + t.idx + "_dragger_horizontal")], u = [s.outerHeight(!1) - r.height(), s.outerWidth(!1) - r.width()], a = [u[0] / (o[0].parent().height() - o[0].height()), u[1] / (o[1].parent().width() - o[1].width())]; t.scrollRatio = { y: a[0], x: a[1] } }, _onDragClasses: function (e, t, n) { var r = n ? "mCSB_dragger_onDrag_expanded" : "", i = ["mCSB_dragger_onDrag", "mCSB_scrollTools_onDrag"], s = e.closest(".mCSB_scrollTools"); "active" === t ? (e.toggleClass(i[0] + " " + r), s.toggleClass(i[1]), e[0]._draggable = e[0]._draggable ? 0 : 1) : e[0]._draggable || ("hide" === t ? (e.removeClass(i[0]), s.removeClass(i[1])) : (e.addClass(i[0]), s.addClass(i[1]))) }, _overflowed: function () { var e = n(this), t = e.data(i), r = n("#mCSB_" + t.idx), s = n("#mCSB_" + t.idx + "_container"), o = null == t.overflowed ? s.height() : s.outerHeight(!1), u = null == t.overflowed ? s.width() : s.outerWidth(!1); return [o > r.height(), u > r.width()] }, _resetContentPosition: function () { var e = n(this), t = e.data(i), r = t.opt, s = n("#mCSB_" + t.idx), o = n("#mCSB_" + t.idx + "_container"), u = [n("#mCSB_" + t.idx + "_dragger_vertical"), n("#mCSB_" + t.idx + "_dragger_horizontal")]; if (p._stop(e), ("x" !== r.axis && !t.overflowed[0] || "y" === r.axis && t.overflowed[0]) && (u[0].add(o).css("top", 0), p._scrollTo(e, "_resetY")), "y" !== r.axis && !t.overflowed[1] || "x" === r.axis && t.overflowed[1]) { var a = dx = 0; "rtl" === t.langDir && (a = s.width() - o.outerWidth(!1), dx = Math.abs(a / t.scrollRatio.x)), o.css("left", a), u[1].css("left", dx), p._scrollTo(e, "_resetX") } }, _bindEvents: function () { function e() { o = setTimeout(function () { n.event.special.mousewheel ? (clearTimeout(o), p._mousewheel.call(t[0])) : e() }, 1e3) } var t = n(this), r = t.data(i), s = r.opt; if (!r.bindEvents) { if (p._draggable.call(this), s.contentTouchScroll && p._contentDraggable.call(this), s.mouseWheel.enable) { var o; e() } p._draggerRail.call(this), p._wrapperScroll.call(this), s.advanced.autoScrollOnFocus && p._focus.call(this), s.scrollButtons.enable && p._buttons.call(this), s.keyboard.enable && p._keyboard.call(this), r.bindEvents = !0 } }, _unbindEvents: function () { var e = n(this), r = e.data(i), s = i + "_" + r.idx, o = ".mCSB_" + r.idx + "_scrollbar", u = n("#mCSB_" + r.idx + ",#mCSB_" + r.idx + "_container,#mCSB_" + r.idx + "_container_wrapper," + o + " .mCSB_draggerContainer,#mCSB_" + r.idx + "_dragger_vertical,#mCSB_" + r.idx + "_dragger_horizontal," + o + ">a"), a = n("#mCSB_" + r.idx + "_container"); r.bindEvents && (n(t).unbind("." + s), u.each(function () { n(this).unbind("." + s) }), clearTimeout(e[0]._focusTimeout), p._delete.call(null, e[0]._focusTimeout), clearTimeout(r.sequential.step), p._delete.call(null, r.sequential.step), clearTimeout(a[0].onCompleteTimeout), p._delete.call(null, a[0].onCompleteTimeout), r.bindEvents = !1) }, _scrollbarVisibility: function (e) { var t = n(this), r = t.data(i), s = r.opt, o = n("#mCSB_" + r.idx + "_container_wrapper"), u = o.length ? o : n("#mCSB_" + r.idx + "_container"), a = [n("#mCSB_" + r.idx + "_scrollbar_vertical"), n("#mCSB_" + r.idx + "_scrollbar_horizontal")], f = [a[0].find(".mCSB_dragger"), a[1].find(".mCSB_dragger")]; "x" !== s.axis && (r.overflowed[0] && !e ? (a[0].add(f[0]).add(a[0].children("a")).css("display", "block"), u.removeClass("mCS_no_scrollbar_y mCS_y_hidden")) : (s.alwaysShowScrollbar ? (2 !== s.alwaysShowScrollbar && f[0].add(a[0].children("a")).css("display", "none"), u.removeClass("mCS_y_hidden")) : (a[0].css("display", "none"), u.addClass("mCS_y_hidden")), u.addClass("mCS_no_scrollbar_y"))), "y" !== s.axis && (r.overflowed[1] && !e ? (a[1].add(f[1]).add(a[1].children("a")).css("display", "block"), u.removeClass("mCS_no_scrollbar_x mCS_x_hidden")) : (s.alwaysShowScrollbar ? (2 !== s.alwaysShowScrollbar && f[1].add(a[1].children("a")).css("display", "none"), u.removeClass("mCS_x_hidden")) : (a[1].css("display", "none"), u.addClass("mCS_x_hidden")), u.addClass("mCS_no_scrollbar_x"))), r.overflowed[0] || r.overflowed[1] ? t.removeClass("mCS_no_scrollbar") : t.addClass("mCS_no_scrollbar") }, _coordinates: function (e) { var t = e.type; switch (t) { case "pointerdown": case "MSPointerDown": case "pointermove": case "MSPointerMove": case "pointerup": case "MSPointerUp": return [e.originalEvent.pageY, e.originalEvent.pageX]; case "touchstart": case "touchmove": case "touchend": var n = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0]; return [n.pageY, n.pageX]; default: return [e.pageY, e.pageX] } }, _draggable: function () { function e(e) { var t = m.find("iframe"); if (t.length) { var n = e ? "auto" : "none"; t.css("pointer-events", n) } } function r(e, t, n, r) { if (m[0].idleTimer = h.scrollInertia < 233 ? 250 : 0, s.attr("id") === v[1]) var i = "x", o = (s[0].offsetLeft - t + r) * f.scrollRatio.x; else var i = "y", o = (s[0].offsetTop - e + n) * f.scrollRatio.y; p._scrollTo(a, o.toString(), { dir: i, drag: !0 }) } var s, o, u, a = n(this), f = a.data(i), h = f.opt, d = i + "_" + f.idx, v = ["mCSB_" + f.idx + "_dragger_vertical", "mCSB_" + f.idx + "_dragger_horizontal"], m = n("#mCSB_" + f.idx + "_container"), g = n("#" + v[0] + ",#" + v[1]); g.bind("mousedown." + d + " touchstart." + d + " pointerdown." + d + " MSPointerDown." + d, function (r) { if (r.stopImmediatePropagation(), r.preventDefault(), p._mouseBtnLeft(r)) { c = !0, l && (t.onselectstart = function () { return !1 }), e(!1), p._stop(a), s = n(this); var i = s.offset(), f = p._coordinates(r)[0] - i.top, d = p._coordinates(r)[1] - i.left, v = s.height() + i.top, m = s.width() + i.left; v > f && f > 0 && m > d && d > 0 && (o = f, u = d), p._onDragClasses(s, "active", h.autoExpandScrollbar) } }).bind("touchmove." + d, function (e) { e.stopImmediatePropagation(), e.preventDefault(); var t = s.offset(), n = p._coordinates(e)[0] - t.top, i = p._coordinates(e)[1] - t.left; r(o, u, n, i) }), n(t).bind("mousemove." + d + " pointermove." + d + " MSPointerMove." + d, function (e) { if (s) { var t = s.offset(), n = p._coordinates(e)[0] - t.top, i = p._coordinates(e)[1] - t.left; if (o === n) return; r(o, u, n, i) } }).add(g).bind("mouseup." + d + " touchend." + d + " pointerup." + d + " MSPointerUp." + d, function () { s && (p._onDragClasses(s, "active", h.autoExpandScrollbar), s = null), c = !1, l && (t.onselectstart = null), e(!0) }) }, _contentDraggable: function () { function e(e, t) { var n = [1.5 * t, 2 * t, t / 1.5, t / 2]; return e > 90 ? t > 4 ? n[0] : n[3] : e > 60 ? t > 3 ? n[3] : n[2] : e > 30 ? t > 8 ? n[1] : t > 6 ? n[0] : t > 4 ? t : n[2] : t > 8 ? t : n[3] } function t(e, t, n, r, i, s) { e && p._scrollTo(g, e.toString(), { dur: t, scrollEasing: n, dir: r, overwrite: i, drag: s }) } var r, s, o, u, a, f, l, h, d, v, m, g = n(this), y = g.data(i), b = y.opt, w = i + "_" + y.idx, E = n("#mCSB_" + y.idx), S = n("#mCSB_" + y.idx + "_container"), x = [n("#mCSB_" + y.idx + "_dragger_vertical"), n("#mCSB_" + y.idx + "_dragger_horizontal")], T = [], N = [], C = 0, k = "yx" === b.axis ? "none" : "all"; S.bind("touchstart." + w + " pointerdown." + w + " MSPointerDown." + w, function (e) { if (p._pointerTouch(e) && !c) { var t = S.offset(); r = p._coordinates(e)[0] - t.top, s = p._coordinates(e)[1] - t.left } }).bind("touchmove." + w + " pointermove." + w + " MSPointerMove." + w, function (e) { if (p._pointerTouch(e) && !c) { e.stopImmediatePropagation(), f = p._getTime(); var n = E.offset(), i = p._coordinates(e)[0] - n.top, o = p._coordinates(e)[1] - n.left, u = "mcsLinearOut"; if (T.push(i), N.push(o), y.overflowed[0]) var a = x[0].parent().height() - x[0].height(), l = r - i > 0 && i - r > -(a * y.scrollRatio.y); if (y.overflowed[1]) var h = x[1].parent().width() - x[1].width(), d = s - o > 0 && o - s > -(h * y.scrollRatio.x); (l || d) && e.preventDefault(), v = "yx" === b.axis ? [r - i, s - o] : "x" === b.axis ? [null, s - o] : [r - i, null], S[0].idleTimer = 250, y.overflowed[0] && t(v[0], C, u, "y", "all", !0), y.overflowed[1] && t(v[1], C, u, "x", k, !0) } }), E.bind("touchstart." + w + " pointerdown." + w + " MSPointerDown." + w, function (e) { if (p._pointerTouch(e) && !c) { e.stopImmediatePropagation(), p._stop(g), a = p._getTime(); var t = E.offset(); o = p._coordinates(e)[0] - t.top, u = p._coordinates(e)[1] - t.left, T = [], N = [] } }).bind("touchend." + w + " pointerup." + w + " MSPointerUp." + w, function (n) { if (p._pointerTouch(n) && !c) { n.stopImmediatePropagation(), l = p._getTime(); var r = E.offset(), i = p._coordinates(n)[0] - r.top, s = p._coordinates(n)[1] - r.left; if (!(l - f > 30)) { d = 1e3 / (l - a); var g = "mcsEaseOut", w = 2.5 > d, x = w ? [T[T.length - 2], N[N.length - 2]] : [0, 0]; h = w ? [i - x[0], s - x[1]] : [i - o, s - u]; var C = [Math.abs(h[0]), Math.abs(h[1])]; d = w ? [Math.abs(h[0] / 4), Math.abs(h[1] / 4)] : [d, d]; var L = [Math.abs(S[0].offsetTop) - h[0] * e(C[0] / d[0], d[0]), Math.abs(S[0].offsetLeft) - h[1] * e(C[1] / d[1], d[1])]; v = "yx" === b.axis ? [L[0], L[1]] : "x" === b.axis ? [null, L[1]] : [L[0], null], m = [4 * C[0] + b.scrollInertia, 4 * C[1] + b.scrollInertia]; var A = parseInt(b.contentTouchScroll) || 0; v[0] = C[0] > A ? v[0] : 0, v[1] = C[1] > A ? v[1] : 0, y.overflowed[0] && t(v[0], m[0], g, "y", k, !1), y.overflowed[1] && t(v[1], m[1], g, "x", k, !1) } } }) }, _mousewheel: function () { function e(e) { var t = null; try { var n = e.contentDocument || e.contentWindow.document; t = n.body.innerHTML } catch (r) { } return null !== t } var t = n(this), r = t.data(i); if (r) { var s = r.opt, o = i + "_" + r.idx, u = n("#mCSB_" + r.idx), a = [n("#mCSB_" + r.idx + "_dragger_vertical"), n("#mCSB_" + r.idx + "_dragger_horizontal")], f = n("#mCSB_" + r.idx + "_container").find("iframe"), c = u; f.length && f.each(function () { var t = this; e(t) && (c = c.add(n(t).contents().find("body"))) }), c.bind("mousewheel." + o, function (e, i) { if (p._stop(t), !p._disableMousewheel(t, e.target)) { var o = "auto" !== s.mouseWheel.deltaFactor ? parseInt(s.mouseWheel.deltaFactor) : l && e.deltaFactor < 100 ? 100 : e.deltaFactor || 100; if ("x" === s.axis || "x" === s.mouseWheel.axis) var f = "x", c = [Math.round(o * r.scrollRatio.x), parseInt(s.mouseWheel.scrollAmount)], h = "auto" !== s.mouseWheel.scrollAmount ? c[1] : c[0] >= u.width() ? .9 * u.width() : c[0], d = Math.abs(n("#mCSB_" + r.idx + "_container")[0].offsetLeft), v = a[1][0].offsetLeft, m = a[1].parent().width() - a[1].width(), g = e.deltaX || e.deltaY || i; else var f = "y", c = [Math.round(o * r.scrollRatio.y), parseInt(s.mouseWheel.scrollAmount)], h = "auto" !== s.mouseWheel.scrollAmount ? c[1] : c[0] >= u.height() ? .9 * u.height() : c[0], d = Math.abs(n("#mCSB_" + r.idx + "_container")[0].offsetTop), v = a[0][0].offsetTop, m = a[0].parent().height() - a[0].height(), g = e.deltaY || i; "y" === f && !r.overflowed[0] || "x" === f && !r.overflowed[1] || (s.mouseWheel.invert && (g = -g), s.mouseWheel.normalizeDelta && (g = 0 > g ? -1 : 1), (g > 0 && 0 !== v || 0 > g && v !== m || s.mouseWheel.preventDefault) && (e.stopImmediatePropagation(), e.preventDefault()), p._scrollTo(t, (d - g * h).toString(), { dir: f })) } }) } }, _disableMousewheel: function (e, t) { var r = t.nodeName.toLowerCase(), s = e.data(i).opt.mouseWheel.disableOver, o = ["select", "textarea"]; return n.inArray(r, s) > -1 && !(n.inArray(r, o) > -1 && !n(t).is(":focus")) }, _draggerRail: function () { var e = n(this), t = e.data(i), r = i + "_" + t.idx, s = n("#mCSB_" + t.idx + "_container"), o = s.parent(), u = n(".mCSB_" + t.idx + "_scrollbar .mCSB_draggerContainer"); u.bind("touchstart." + r + " pointerdown." + r + " MSPointerDown." + r, function () { c = !0 }).bind("touchend." + r + " pointerup." + r + " MSPointerUp." + r, function () { c = !1 }).bind("click." + r, function (r) { if (n(r.target).hasClass("mCSB_draggerContainer") || n(r.target).hasClass("mCSB_draggerRail")) { p._stop(e); var i = n(this), u = i.find(".mCSB_dragger"); if (i.parent(".mCSB_scrollTools_horizontal").length > 0) { if (!t.overflowed[1]) return; var a = "x", f = r.pageX > u.offset().left ? -1 : 1, l = Math.abs(s[0].offsetLeft) - .9 * f * o.width() } else { if (!t.overflowed[0]) return; var a = "y", f = r.pageY > u.offset().top ? -1 : 1, l = Math.abs(s[0].offsetTop) - .9 * f * o.height() } p._scrollTo(e, l.toString(), { dir: a, scrollEasing: "mcsEaseInOut" }) } }) }, _focus: function () { var e = n(this), r = e.data(i), s = r.opt, o = i + "_" + r.idx, u = n("#mCSB_" + r.idx + "_container"), a = u.parent(); u.bind("focusin." + o, function () { var r = n(t.activeElement), i = u.find(".mCustomScrollBox").length, o = 0; r.is(s.advanced.autoScrollOnFocus) && (p._stop(e), clearTimeout(e[0]._focusTimeout), e[0]._focusTimer = i ? (o + 17) * i : 0, e[0]._focusTimeout = setTimeout(function () { var t = [r.offset().top - u.offset().top, r.offset().left - u.offset().left], n = [u[0].offsetTop, u[0].offsetLeft], i = [n[0] + t[0] >= 0 && n[0] + t[0] < a.height() - r.outerHeight(!1), n[1] + t[1] >= 0 && n[0] + t[1] < a.width() - r.outerWidth(!1)], f = "yx" !== s.axis || i[0] || i[1] ? "all" : "none"; "x" === s.axis || i[0] || p._scrollTo(e, t[0].toString(), { dir: "y", scrollEasing: "mcsEaseInOut", overwrite: f, dur: o }), "y" === s.axis || i[1] || p._scrollTo(e, t[1].toString(), { dir: "x", scrollEasing: "mcsEaseInOut", overwrite: f, dur: o }) }, e[0]._focusTimer)) }) }, _wrapperScroll: function () { var e = n(this), t = e.data(i), r = i + "_" + t.idx, s = n("#mCSB_" + t.idx + "_container").parent(); s.bind("scroll." + r, function () { s.scrollTop(0).scrollLeft(0) }) }, _buttons: function () { var e = n(this), t = e.data(i), r = t.opt, s = t.sequential, o = i + "_" + t.idx, u = (n("#mCSB_" + t.idx + "_container"), ".mCSB_" + t.idx + "_scrollbar"), a = n(u + ">a"); a.bind("mousedown." + o + " touchstart." + o + " pointerdown." + o + " MSPointerDown." + o + " mouseup." + o + " touchend." + o + " pointerup." + o + " MSPointerUp." + o + " mouseout." + o + " pointerout." + o + " MSPointerOut." + o + " click." + o, function (i) { function o(t, n) { s.scrollAmount = r.snapAmount || r.scrollButtons.scrollAmount, p._sequentialScroll.call(this, e, t, n) } if (i.preventDefault(), p._mouseBtnLeft(i)) { var u = n(this).attr("class"); switch (s.type = r.scrollButtons.scrollType, i.type) { case "mousedown": case "touchstart": case "pointerdown": case "MSPointerDown": if ("stepped" === s.type) return; c = !0, t.tweenRunning = !1, o("on", u); break; case "mouseup": case "touchend": case "pointerup": case "MSPointerUp": case "mouseout": case "pointerout": case "MSPointerOut": if ("stepped" === s.type) return; c = !1, s.dir && o("off", u); break; case "click": if ("stepped" !== s.type || t.tweenRunning) return; o("on", u) } } }) }, _keyboard: function () { var e = n(this), r = e.data(i), s = r.opt, o = r.sequential, u = i + "_" + r.idx, a = n("#mCSB_" + r.idx), f = n("#mCSB_" + r.idx + "_container"), l = f.parent(), c = "input,textarea,select,datalist,keygen,[contenteditable='true']"; a.attr("tabindex", "0").bind("blur." + u + " keydown." + u + " keyup." + u, function (i) { function u(t, n) { o.type = s.keyboard.scrollType, o.scrollAmount = s.snapAmount || s.keyboard.scrollAmount, "stepped" === o.type && r.tweenRunning || p._sequentialScroll.call(this, e, t, n) } switch (i.type) { case "blur": r.tweenRunning && o.dir && u("off", null); break; case "keydown": case "keyup": var a = i.keyCode ? i.keyCode : i.which, h = "on"; if ("x" !== s.axis && (38 === a || 40 === a) || "y" !== s.axis && (37 === a || 39 === a)) { if ((38 === a || 40 === a) && !r.overflowed[0] || (37 === a || 39 === a) && !r.overflowed[1]) return; "keyup" === i.type && (h = "off"), n(t.activeElement).is(c) || (i.preventDefault(), i.stopImmediatePropagation(), u(h, a)) } else if (33 === a || 34 === a) { if ((r.overflowed[0] || r.overflowed[1]) && (i.preventDefault(), i.stopImmediatePropagation()), "keyup" === i.type) { p._stop(e); var d = 34 === a ? -1 : 1; if ("x" === s.axis || "yx" === s.axis && r.overflowed[1] && !r.overflowed[0]) var v = "x", m = Math.abs(f[0].offsetLeft) - .9 * d * l.width(); else var v = "y", m = Math.abs(f[0].offsetTop) - .9 * d * l.height(); p._scrollTo(e, m.toString(), { dir: v, scrollEasing: "mcsEaseInOut" }) } } else if ((35 === a || 36 === a) && !n(t.activeElement).is(c) && ((r.overflowed[0] || r.overflowed[1]) && (i.preventDefault(), i.stopImmediatePropagation()), "keyup" === i.type)) { if ("x" === s.axis || "yx" === s.axis && r.overflowed[1] && !r.overflowed[0]) var v = "x", m = 35 === a ? Math.abs(l.width() - f.outerWidth(!1)) : 0; else var v = "y", m = 35 === a ? Math.abs(l.height() - f.outerHeight(!1)) : 0; p._scrollTo(e, m.toString(), { dir: v, scrollEasing: "mcsEaseInOut" }) } } }) }, _sequentialScroll: function (e, t, r) { function s(t) { var n = "stepped" !== f.type, r = t ? n ? a.scrollInertia / 1.5 : a.scrollInertia : 1e3 / 60, i = t ? n ? 7.5 : 40 : 2.5, o = [Math.abs(l[0].offsetTop), Math.abs(l[0].offsetLeft)], c = [u.scrollRatio.y > 10 ? 10 : u.scrollRatio.y, u.scrollRatio.x > 10 ? 10 : u.scrollRatio.x], h = "x" === f.dir[0] ? o[1] + f.dir[1] * c[1] * i : o[0] + f.dir[1] * c[0] * i, d = "x" === f.dir[0] ? o[1] + f.dir[1] * parseInt(f.scrollAmount) : o[0] + f.dir[1] * parseInt(f.scrollAmount), v = "1000" !== f.scrollAmount ? d : h, m = t ? n ? "mcsLinearOut" : "mcsEaseInOut" : "mcsLinear", g = t ? !0 : !1; return t && 17 > r && (v = "x" === f.dir[0] ? o[1] : o[0]), p._scrollTo(e, v.toString(), { dir: f.dir[0], scrollEasing: m, dur: r, onComplete: g }), t ? void (f.dir = !1) : (clearTimeout(f.step), void (f.step = setTimeout(function () { s() }, r))) } function o() { clearTimeout(f.step), p._stop(e) } var u = e.data(i), a = u.opt, f = u.sequential, l = n("#mCSB_" + u.idx + "_container"), c = "stepped" === f.type ? !0 : !1; switch (t) { case "on": if (f.dir = ["mCSB_buttonRight" === r || "mCSB_buttonLeft" === r || 39 === r || 37 === r ? "x" : "y", "mCSB_buttonUp" === r || "mCSB_buttonLeft" === r || 38 === r || 37 === r ? -1 : 1], p._stop(e), p._isNumeric(r) && "stepped" === f.type) return; s(c); break; case "off": o(), (c || u.tweenRunning && f.dir) && s(!0) } }, _arr: function (e) { var t = n(this).data(i).opt, r = []; return "function" == typeof e && (e = e()), e instanceof Array ? r = e.length > 1 ? [e[0], e[1]] : "x" === t.axis ? [null, e[0]] : [e[0], null] : (r[0] = e.y ? e.y : e.x || "x" === t.axis ? null : e, r[1] = e.x ? e.x : e.y || "y" === t.axis ? null : e), "function" == typeof r[0] && (r[0] = r[0]()), "function" == typeof r[1] && (r[1] = r[1]()), r }, _to: function (e, t) { if (null != e && "undefined" != typeof e) { var r = n(this), s = r.data(i), o = s.opt, u = n("#mCSB_" + s.idx + "_container"), a = u.parent(), f = typeof e; t || (t = "x" === o.axis ? "x" : "y"); var l = "x" === t ? u.outerWidth(!1) : u.outerHeight(!1), c = "x" === t ? u.offset().left : u.offset().top, d = "x" === t ? u[0].offsetLeft : u[0].offsetTop, v = "x" === t ? "left" : "top"; switch (f) { case "function": return e(); case "object": if (e.nodeType) var m = "x" === t ? n(e).offset().left : n(e).offset().top; else if (e.jquery) { if (!e.length) return; var m = "x" === t ? e.offset().left : e.offset().top } return m - c; case "string": case "number": if (p._isNumeric.call(null, e)) return Math.abs(e); if (-1 !== e.indexOf("%")) return Math.abs(l * parseInt(e) / 100); if (-1 !== e.indexOf("-=")) return Math.abs(d - parseInt(e.split("-=")[1])); if (-1 !== e.indexOf("+=")) { var g = d + parseInt(e.split("+=")[1]); return g >= 0 ? 0 : Math.abs(g) } if (-1 !== e.indexOf("px") && p._isNumeric.call(null, e.split("px")[0])) return Math.abs(e.split("px")[0]); if ("top" === e || "left" === e) return 0; if ("bottom" === e) return Math.abs(a.height() - u.outerHeight(!1)); if ("right" === e) return Math.abs(a.width() - u.outerWidth(!1)); if ("first" === e || "last" === e) { var y = u.find(":" + e), m = "x" === t ? n(y).offset().left : n(y).offset().top; return m - c } if (n(e).length) { var m = "x" === t ? n(e).offset().left : n(e).offset().top; return m - c } return u.css(v, e), void h.update.call(null, r[0]) } } }, _autoUpdate: function (e) { function t() { clearTimeout(c[0].autoUpdate), c[0].autoUpdate = setTimeout(function () { return l.advanced.updateOnSelectorChange && (d = o(), d !== w) ? (u(), void (w = d)) : (l.advanced.updateOnContentResize && (v = [c.outerHeight(!1), c.outerWidth(!1), g.height(), g.width(), b()[0], b()[1]], (v[0] !== E[0] || v[1] !== E[1] || v[2] !== E[2] || v[3] !== E[3] || v[4] !== E[4] || v[5] !== E[5]) && (u(), E = v)), l.advanced.updateOnImageLoad && (m = r(), m !== S && (c.find("img").each(function () { s(this.src) }), S = m)), void ((l.advanced.updateOnSelectorChange || l.advanced.updateOnContentResize || l.advanced.updateOnImageLoad) && t())) }, 60) } function r() { var e = 0; return l.advanced.updateOnImageLoad && (e = c.find("img").length), e } function s(e) { function t(e, t) { return function () { return t.apply(e, arguments) } } function n() { this.onload = null, u() } var r = new Image; r.onload = t(r, n), r.src = e } function o() { l.advanced.updateOnSelectorChange === !0 && (l.advanced.updateOnSelectorChange = "*"); var e = 0, t = c.find(l.advanced.updateOnSelectorChange); return l.advanced.updateOnSelectorChange && t.length > 0 && t.each(function () { e += n(this).height() + n(this).width() }), e } function u() { clearTimeout(c[0].autoUpdate), h.update.call(null, a[0]) } var a = n(this), f = a.data(i), l = f.opt, c = n("#mCSB_" + f.idx + "_container"); if (e) return clearTimeout(c[0].autoUpdate), void p._delete.call(null, c[0].autoUpdate); var d, v, m, g = c.parent(), y = [n("#mCSB_" + f.idx + "_scrollbar_vertical"), n("#mCSB_" + f.idx + "_scrollbar_horizontal")], b = function () { return [y[0].is(":visible") ? y[0].outerHeight(!0) : 0, y[1].is(":visible") ? y[1].outerWidth(!0) : 0] }, w = o(), E = [c.outerHeight(!1), c.outerWidth(!1), g.height(), g.width(), b()[0], b()[1]], S = r(); t() }, _snapAmount: function (e, t, n) { return Math.round(e / t) * t - n }, _stop: function (e) { var t = e.data(i), r = n("#mCSB_" + t.idx + "_container,#mCSB_" + t.idx + "_container_wrapper,#mCSB_" + t.idx + "_dragger_vertical,#mCSB_" + t.idx + "_dragger_horizontal"); r.each(function () { p._stopTween.call(this) }) }, _scrollTo: function (e, t, r) { function s(e) { return a && f.callbacks[e] && "function" == typeof f.callbacks[e] } function o() { return [f.callbacks.alwaysTriggerOffsets || b >= w[0] + S, f.callbacks.alwaysTriggerOffsets || -x >= b] } function u() { var t = [d[0].offsetTop, d[0].offsetLeft], n = [g[0].offsetTop, g[0].offsetLeft], i = [d.outerHeight(!1), d.outerWidth(!1)], s = [h.height(), h.width()]; e[0].mcs = { content: d, top: t[0], left: t[1], draggerTop: n[0], draggerLeft: n[1], topPct: Math.round(100 * Math.abs(t[0]) / (Math.abs(i[0]) - s[0])), leftPct: Math.round(100 * Math.abs(t[1]) / (Math.abs(i[1]) - s[1])), direction: r.dir } } var a = e.data(i), f = a.opt, l = { trigger: "internal", dir: "y", scrollEasing: "mcsEaseOut", drag: !1, dur: f.scrollInertia, overwrite: "all", callbacks: !0, onStart: !0, onUpdate: !0, onComplete: !0 }, r = n.extend(l, r), c = [r.dur, r.drag ? 0 : r.dur], h = n("#mCSB_" + a.idx), d = n("#mCSB_" + a.idx + "_container"), v = f.callbacks.onTotalScrollOffset ? p._arr.call(e, f.callbacks.onTotalScrollOffset) : [0, 0], m = f.callbacks.onTotalScrollBackOffset ? p._arr.call(e, f.callbacks.onTotalScrollBackOffset) : [0, 0]; if (a.trigger = r.trigger, "_resetY" !== t || a.contentReset.y || (s("onOverflowYNone") && f.callbacks.onOverflowYNone.call(e[0]), a.contentReset.y = 1), "_resetX" !== t || a.contentReset.x || (s("onOverflowXNone") && f.callbacks.onOverflowXNone.call(e[0]), a.contentReset.x = 1), "_resetY" !== t && "_resetX" !== t) { switch (!a.contentReset.y && e[0].mcs || !a.overflowed[0] || (s("onOverflowY") && f.callbacks.onOverflowY.call(e[0]), a.contentReset.x = null), !a.contentReset.x && e[0].mcs || !a.overflowed[1] || (s("onOverflowX") && f.callbacks.onOverflowX.call(e[0]), a.contentReset.x = null), f.snapAmount && (t = p._snapAmount(t, f.snapAmount, f.snapOffset)), r.dir) { case "x": var g = n("#mCSB_" + a.idx + "_dragger_horizontal"), y = "left", b = d[0].offsetLeft, w = [h.width() - d.outerWidth(!1), g.parent().width() - g.width()], E = [t, 0 === t ? 0 : t / a.scrollRatio.x], S = v[1], x = m[1], T = S > 0 ? S / a.scrollRatio.x : 0, N = x > 0 ? x / a.scrollRatio.x : 0; break; case "y": var g = n("#mCSB_" + a.idx + "_dragger_vertical"), y = "top", b = d[0].offsetTop, w = [h.height() - d.outerHeight(!1), g.parent().height() - g.height()], E = [t, 0 === t ? 0 : t / a.scrollRatio.y], S = v[0], x = m[0], T = S > 0 ? S / a.scrollRatio.y : 0, N = x > 0 ? x / a.scrollRatio.y : 0 } E[1] < 0 || 0 === E[0] && 0 === E[1] ? E = [0, 0] : E[1] >= w[1] ? E = [w[0], w[1]] : E[0] = -E[0], e[0].mcs || u(), clearTimeout(d[0].onCompleteTimeout), (a.tweenRunning || !(0 === b && E[0] >= 0 || b === w[0] && E[0] <= w[0])) && (p._tweenTo.call(null, g[0], y, Math.round(E[1]), c[1], r.scrollEasing), p._tweenTo.call(null, d[0], y, Math.round(E[0]), c[0], r.scrollEasing, r.overwrite, { onStart: function () { r.callbacks && r.onStart && !a.tweenRunning && (s("onScrollStart") && (u(), f.callbacks.onScrollStart.call(e[0])), a.tweenRunning = !0, p._onDragClasses(g), a.cbOffsets = o()) }, onUpdate: function () { r.callbacks && r.onUpdate && s("whileScrolling") && (u(), f.callbacks.whileScrolling.call(e[0])) }, onComplete: function () { if (r.callbacks && r.onComplete) { "yx" === f.axis && clearTimeout(d[0].onCompleteTimeout); var t = d[0].idleTimer || 0; d[0].onCompleteTimeout = setTimeout(function () { s("onScroll") && (u(), f.callbacks.onScroll.call(e[0])), s("onTotalScroll") && E[1] >= w[1] - T && a.cbOffsets[0] && (u(), f.callbacks.onTotalScroll.call(e[0])), s("onTotalScrollBack") && E[1] <= N && a.cbOffsets[1] && (u(), f.callbacks.onTotalScrollBack.call(e[0])), a.tweenRunning = !1, d[0].idleTimer = 0, p._onDragClasses(g, "hide") }, t) } } })) } }, _tweenTo: function (t, n, r, i, s, o, u) { function a() { t._mcsstop || (w || m.call(), w = p._getTime() - b, f(), w >= t._mcstime && (t._mcstime = w > t._mcstime ? w + d - (w - t._mcstime) : w + d - 1, t._mcstime < w + 1 && (t._mcstime = w + 1)), t._mcstime < i ? t._mcsid = v(a) : y.call()) } function f() { i > 0 ? (t._mcscurrVal = h(t._mcstime, E, x, i, s), S[n] = Math.round(t._mcscurrVal) + "px") : S[n] = r + "px", g.call() } function l() { d = 1e3 / 60, t._mcstime = w + d, v = e.requestAnimationFrame ? e.requestAnimationFrame : function (e) { return f(), setTimeout(e, .01) }, t._mcsid = v(a) } function c() { null != t._mcsid && (e.requestAnimationFrame ? e.cancelAnimationFrame(t._mcsid) : clearTimeout(t._mcsid), t._mcsid = null) } function h(e, t, n, r, i) { switch (i) { case "linear": case "mcsLinear": return n * e / r + t; case "mcsLinearOut": return e /= r, e--, n * Math.sqrt(1 - e * e) + t; case "easeInOutSmooth": return e /= r / 2, 1 > e ? n / 2 * e * e + t : (e--, -n / 2 * (e * (e - 2) - 1) + t); case "easeInOutStrong": return e /= r / 2, 1 > e ? n / 2 * Math.pow(2, 10 * (e - 1)) + t : (e--, n / 2 * (-Math.pow(2, -10 * e) + 2) + t); case "easeInOut": case "mcsEaseInOut": return e /= r / 2, 1 > e ? n / 2 * e * e * e + t : (e -= 2, n / 2 * (e * e * e + 2) + t); case "easeOutSmooth": return e /= r, e--, -n * (e * e * e * e - 1) + t; case "easeOutStrong": return n * (-Math.pow(2, -10 * e / r) + 1) + t; case "easeOut": case "mcsEaseOut": default: var s = (e /= r) * e, o = s * e; return t + n * (.499999999999997 * o * s + -2.5 * s * s + 5.5 * o + -6.5 * s + 4 * e) } } var d, v, u = u || {}, m = u.onStart || function () { }, g = u.onUpdate || function () { }, y = u.onComplete || function () { }, b = p._getTime(), w = 0, E = t.offsetTop, S = t.style; "left" === n && (E = t.offsetLeft); var x = r - E; t._mcsstop = 0, "none" !== o && c(), l() }, _getTime: function () { return e.performance && e.performance.now ? e.performance.now() : e.performance && e.performance.webkitNow ? e.performance.webkitNow() : Date.now ? Date.now() : (new Date).getTime() }, _stopTween: function () { var t = this; null != t._mcsid && (e.requestAnimationFrame ? e.cancelAnimationFrame(t._mcsid) : clearTimeout(t._mcsid), t._mcsid = null, t._mcsstop = 1) }, _delete: function (e) { try { delete e } catch (t) { e = null } }, _mouseBtnLeft: function (e) { return !(e.which && 1 !== e.which) }, _pointerTouch: function (e) { var t = e.originalEvent.pointerType; return !(t && "touch" !== t && 2 !== t) }, _isNumeric: function (e) { return !isNaN(parseFloat(e)) && isFinite(e) } }; n.fn[r] = function (e) { return h[e] ? h[e].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof e && e ? void n.error("Method " + e + " does not exist") : h.init.apply(this, arguments) }, n[r] = function (e) { return h[e] ? h[e].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof e && e ? void n.error("Method " + e + " does not exist") : h.init.apply(this, arguments) }, n[r].defaults = o, e[r] = !0, n(e).load(function () { n(s)[r]() }) }) }(window, document); (function (e) { e.fn.extend({ autocomplete: function (t, n) { var r = typeof t == "string"; n = e.extend({}, e.Autocompleter.defaults, { url: r ? t : null, data: r ? null : t, delay: r ? e.Autocompleter.defaults.delay : 10, max: n && !n.scroll ? 10 : 150 }, n); n.highlight = n.highlight || function (e) { return e }; n.formatMatch = n.formatMatch || n.formatItem; return this.each(function () { new e.Autocompleter(this, n) }) }, result: function (e) { return this.bind("result", e) }, search: function (e) { return this.trigger("search", [e]) }, flushCache: function () { return this.trigger("flushCache") }, setOptions: function (e) { return this.trigger("setOptions", [e]) }, unautocomplete: function () { return this.trigger("unautocomplete") } }); e.Autocompleter = function (t, n) { function r() { var e = S.selected(); if (!e) return false; var t = e.result; g = t; if (n.multiple) { var r = s(v.val()); if (r.length > 1) { t = r.slice(0, r.length - 1).join(n.multipleSeparator) + n.multipleSeparator + t } t += n.multipleSeparator } v.val(t); f(); v.trigger("result", [e.data, e.value]); return true } function i(e, t) { if (w == d.DEL) { S.hide(); return } var r = v.val(); if (!t && r == g) return; g = r; r = o(r); if (r.length >= n.minChars) { v.addClass(n.loadingClass); if (!n.matchCase) r = r.toLowerCase(); c(r, l, f) } else { p(); S.hide() } } function s(t) { if (!t) { return [""] } var r = t.split(n.multipleSeparator); var i = []; e.each(r, function (t, n) { if (e.trim(n)) i[t] = e.trim(n) }); return i } function o(e) { if (!n.multiple) return e; var t = s(e); return t[t.length - 1] } function u(r, i) { if (n.autoFill && o(v.val()).toLowerCase() == r.toLowerCase() && w != d.BACKSPACE) { v.val(v.val() + i.substring(o(g).length)); e.Autocompleter.Selection(t, g.length, g.length + i.length) } } function a() { clearTimeout(m); m = setTimeout(f, 200) } function f() { var r = S.visible(); S.hide(); clearTimeout(m); p(); if (n.mustMatch) { v.search(function (e) { if (!e) { if (n.multiple) { var t = s(v.val()).slice(0, -1); v.val(t.join(n.multipleSeparator) + (t.length ? n.multipleSeparator : "")) } else v.val("") } }) } if (r) e.Autocompleter.Selection(t, t.value.length, t.value.length) } function l(e, t) { if (t && t.length && b) { p(); S.display(t, e); u(e, t[0].value); S.show() } else { f() } } function c(r, i, s) { if (!n.matchCase) r = r.toLowerCase(); var u = y.load(r); if (u && u.length) { i(r, u) } else if (typeof n.url == "string" && n.url.length > 0) { var a = { timestamp: +(new Date) }; e.each(n.extraParams, function (e, t) { a[e] = typeof t == "function" ? t() : t }); e.ajax({ mode: "abort", port: "autocomplete" + t.name, dataType: n.dataType, url: n.url, data: e.extend({ q: o(r), limit: n.max }, a), success: function (e) { var t = n.parse && n.parse(e) || h(e); y.add(r, t); i(r, t) } }) } else { S.emptyList(); s(r) } } function h(t) { var r = []; var i = t.split("\n"); for (var s = 0; s < i.length; s++) { var o = e.trim(i[s]); if (o) { o = o.split("|"); r[r.length] = { data: o, value: o[0], result: n.formatResult && n.formatResult(o, o[0]) || o[0] } } } return r } function p() { v.removeClass(n.loadingClass) } var d = { UP: 38, DOWN: 40, DEL: 46, TAB: 9, RETURN: 13, ESC: 27, COMMA: 188, PAGEUP: 33, PAGEDOWN: 34, BACKSPACE: 8 }; var v = e(t).attr("autocomplete", "off").addClass(n.inputClass); var m; var g = ""; var y = e.Autocompleter.Cache(n); var b = 0; var w; var E = { mouseDownOnSelect: false }; var S = e.Autocompleter.Select(n, t, r, E); var x; e.browser.opera && e(t.form).bind("submit.autocomplete", function () { if (x) { x = false; return false } }); v.bind((e.browser.opera ? "keypress" : "keydown") + ".autocomplete", function (t) { w = t.keyCode; switch (t.keyCode) { case d.UP: t.preventDefault(); if (S.visible()) { S.prev() } else { i(0, true) } break; case d.DOWN: t.preventDefault(); if (S.visible()) { S.next() } else { i(0, true) } break; case d.PAGEUP: t.preventDefault(); if (S.visible()) { S.pageUp() } else { i(0, true) } break; case d.PAGEDOWN: t.preventDefault(); if (S.visible()) { S.pageDown() } else { i(0, true) } break; case n.multiple && e.trim(n.multipleSeparator) == "," && d.COMMA: case d.TAB: case d.RETURN: if (r()) { t.preventDefault(); x = true; return false } break; case d.ESC: S.hide(); break; default: clearTimeout(m); m = setTimeout(i, n.delay); break } }).focus(function () { b++ }).blur(function () { b = 0; if (!E.mouseDownOnSelect) { a() } }).click(function () { if (b++ > 1 && !S.visible()) { i(0, true) } }).bind("search", function () { function t(e, t) { var r; if (t && t.length) { for (var i = 0; i < t.length; i++) { if (t[i].result.toLowerCase() == e.toLowerCase()) { r = t[i]; break } } } if (typeof n == "function") n(r); else v.trigger("result", r && [r.data, r.value]) } var n = arguments.length > 1 ? arguments[1] : null; e.each(s(v.val()), function (e, n) { c(n, t, t) }) }).bind("flushCache", function () { y.flush() }).bind("setOptions", function () { e.extend(n, arguments[1]); if ("data" in arguments[1]) y.populate() }).bind("unautocomplete", function () { S.unbind(); v.unbind(); e(t.form).unbind(".autocomplete") }) }; e.Autocompleter.defaults = { inputClass: "ac_input", resultsClass: "ac_results", loadingClass: "ac_loading", minChars: 1, delay: 400, matchCase: false, matchSubset: true, matchContains: false, cacheLength: 10, max: 100, mustMatch: false, extraParams: {}, selectFirst: true, formatItem: function (e) { return e[0] }, formatMatch: null, autoFill: false, width: 0, multiple: false, multipleSeparator: ", ", highlight: function (e, t) { return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)(" + t.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi, "\\$1") + ")(?![^<>]*>)(?![^&;]+;)", "gi"), "<strong>$1</strong>") }, scroll: true, scrollHeight: 180 }; e.Autocompleter.Cache = function (t) { function n(e, n) { if (!t.matchCase) e = e.toLowerCase(); var r = e.indexOf(n); if (t.matchContains == "word") { r = e.toLowerCase().search("\\b" + n.toLowerCase()) } if (r == -1) return false; return r == 0 || t.matchContains } function r(e, n) { if (u > t.cacheLength) { s() } if (!o[e]) { u++ } o[e] = n } function i() { if (!t.data) return false; var n = {}, i = 0; if (!t.url) t.cacheLength = 1; n[""] = []; for (var s = 0, o = t.data.length; s < o; s++) { var u = t.data[s]; u = typeof u == "string" ? [u] : u; var a = t.formatMatch(u, s + 1, t.data.length); if (a === false) continue; var f = a.charAt(0).toLowerCase(); if (!n[f]) n[f] = []; var l = { value: a, data: u, result: t.formatResult && t.formatResult(u) || a }; n[f].push(l); if (i++ < t.max) { n[""].push(l) } } e.each(n, function (e, n) { t.cacheLength++; r(e, n) }) } function s() { o = {}; u = 0 } var o = {}; var u = 0; setTimeout(i, 25); return { flush: s, add: r, populate: i, load: function (r) { if (!t.cacheLength || !u) return null; if (!t.url && t.matchContains) { var i = []; for (var s in o) { if (s.length > 0) { var a = o[s]; e.each(a, function (e, t) { if (n(t.value, r)) { i.push(t) } }) } } return i } else if (o[r]) { return o[r] } else if (t.matchSubset) { for (var f = r.length - 1; f >= t.minChars; f--) { var a = o[r.substr(0, f)]; if (a) { var i = []; e.each(a, function (e, t) { if (n(t.value, r)) { i[i.length] = t } }); return i } } } return null } } }; e.Autocompleter.Select = function (t, n, r, i) { function s() { if (!m) return; g = e("<div/>").hide().addClass(t.resultsClass).css("position", "absolute").appendTo(document.body); y = e("<ul/>").appendTo(g).mouseover(function (t) { if (o(t).nodeName && o(t).nodeName.toUpperCase() == "LI") { p = e("li", y).removeClass(c.ACTIVE).index(o(t)); e(o(t)).addClass(c.ACTIVE) } }).click(function (t) { e(o(t)).addClass(c.ACTIVE); r(); n.focus(); return false }).mousedown(function () { i.mouseDownOnSelect = true }).mouseup(function () { i.mouseDownOnSelect = false }); if (t.width > 0) g.css("width", t.width); m = false } function o(e) { var t = e.target; while (t && t.tagName != "LI") t = t.parentNode; if (!t) return []; return t } function u(e) { h.slice(p, p + 1).removeClass(c.ACTIVE); a(e); var n = h.slice(p, p + 1).addClass(c.ACTIVE); if (t.scroll) { var r = 0; h.slice(0, p).each(function () { r += this.offsetHeight }); if (r + n[0].offsetHeight - y.scrollTop() > y[0].clientHeight) { y.scrollTop(r + n[0].offsetHeight - y.innerHeight()) } else if (r < y.scrollTop()) { y.scrollTop(r) } } } function a(e) { p += e; if (p < 0) { p = h.size() - 1 } else if (p >= h.size()) { p = 0 } } function f(e) { return t.max && t.max < e ? t.max : e } function l() { y.empty(); var n = f(d.length); for (var r = 0; r < n; r++) { if (!d[r]) continue; var i = t.formatItem(d[r].data, r + 1, n, d[r].value, v); if (i === false) continue; var s = e("<li/>").html(t.highlight(i, v)).addClass(r % 2 == 0 ? "ac_even" : "ac_odd").appendTo(y)[0]; e.data(s, "ac_data", d[r]) } h = y.find("li"); if (t.selectFirst) { h.slice(0, 1).addClass(c.ACTIVE); p = 0 } if (e.fn.bgiframe) y.bgiframe() } var c = { ACTIVE: "ac_over" }; var h, p = -1, d, v = "", m = true, g, y; return { display: function (e, t) { s(); d = e; v = t; l() }, next: function () { u(1) }, prev: function () { u(-1) }, pageUp: function () { if (p != 0 && p - 8 < 0) { u(-p) } else { u(-8) } }, pageDown: function () { if (p != h.size() - 1 && p + 8 > h.size()) { u(h.size() - 1 - p) } else { u(8) } }, hide: function () { g && g.hide(); h && h.removeClass(c.ACTIVE); p = -1 }, visible: function () { return g && g.is(":visible") }, current: function () { return this.visible() && (h.filter("." + c.ACTIVE)[0] || t.selectFirst && h[0]) }, show: function () { var r = e(n).offset(); g.css({ width: typeof t.width == "string" || t.width > 0 ? t.width : e(n).width(), top: r.top + n.offsetHeight, left: r.left }).show(); if (t.scroll) { y.scrollTop(0); y.css({ maxHeight: t.scrollHeight, overflow: "auto" }); if (e.browser.msie && typeof document.body.style.maxHeight === "undefined") { var i = 0; h.each(function () { i += this.offsetHeight }); var s = i > t.scrollHeight; y.css("height", s ? t.scrollHeight : i); if (!s) { h.width(y.width() - parseInt(h.css("padding-left")) - parseInt(h.css("padding-right"))) } } } }, selected: function () { var t = h && h.filter("." + c.ACTIVE).removeClass(c.ACTIVE); return t && t.length && e.data(t[0], "ac_data") }, emptyList: function () { y && y.empty() }, unbind: function () { g && g.remove() } } }; e.Autocompleter.Selection = function (e, t, n) { if (e.createTextRange) { var r = e.createTextRange(); r.collapse(true); r.moveStart("character", t); r.moveEnd("character", n); r.select() } else if (e.setSelectionRange) { e.setSelectionRange(t, n) } else { if (e.selectionStart) { e.selectionStart = t; e.selectionEnd = n } } e.focus() } })(jQuery)
var Drag = { obj: null, initializer: function (o, e, t, n, a, r, l, m, u, s) { o.onmousedown = Drag.start, o.hmode = l ? !1 : !0, o.vmode = m ? !1 : !0, o.root = e && null != e ? e : o, o.hmode && isNaN(parseInt(o.root.style.left)) && (o.root.style.left = "80px"), o.vmode && isNaN(parseInt(o.root.style.top)) && (o.root.style.top = "0px"), !o.hmode && isNaN(parseInt(o.root.style.right)) && (o.root.style.right = "0px"), !o.vmode && isNaN(parseInt(o.root.style.bottom)) && (o.root.style.bottom = "0px"), o.minX = "undefined" != typeof t ? t : null, o.minY = "undefined" != typeof a ? a : null, o.maxX = "undefined" != typeof n ? n : null, o.maxY = "undefined" != typeof r ? r : null, o.xMapper = u ? u : null, o.yMapper = s ? s : null, o.root.onDragStart = new Function, o.root.onDragEnd = new Function, o.root.onDrag = new Function }, start: function (o) { var e = Drag.obj = this; o = Drag.fixE(o); var t = parseInt(e.vmode ? e.root.style.top : e.root.style.bottom), n = parseInt(e.hmode ? e.root.style.left : e.root.style.right); return e.root.onDragStart(n, t), e.lastMouseX = o.clientX, e.lastMouseY = o.clientY, e.hmode ? (null != e.minX && (e.minMouseX = o.clientX - n + e.minX), null != e.maxX && (e.maxMouseX = e.minMouseX + e.maxX - e.minX)) : (null != e.minX && (e.maxMouseX = -e.minX + o.clientX + n), null != e.maxX && (e.minMouseX = -e.maxX + o.clientX + n)), e.vmode ? (null != e.minY && (e.minMouseY = o.clientY - t + e.minY), null != e.maxY && (e.maxMouseY = e.minMouseY + e.maxY - e.minY)) : (null != e.minY && (e.maxMouseY = -e.minY + o.clientY + t), null != e.maxY && (e.minMouseY = -e.maxY + o.clientY + t)), document.onmousemove = Drag.drag, document.onmouseup = Drag.end, !1 }, drag: function (o) { o = Drag.fixE(o); var e, t, n = Drag.obj, a = o.clientY, r = o.clientX, l = parseInt(n.vmode ? n.root.style.top : n.root.style.bottom), m = parseInt(n.hmode ? n.root.style.left : n.root.style.right); return null != n.minX && (r = n.hmode ? Math.max(r, n.minMouseX) : Math.min(r, n.maxMouseX)), null != n.maxX && (r = n.hmode ? Math.min(r, n.maxMouseX) : Math.max(r, n.minMouseX)), null != n.minY && (a = n.vmode ? Math.max(a, n.minMouseY) : Math.min(a, n.maxMouseY)), null != n.maxY && (a = n.vmode ? Math.min(a, n.maxMouseY) : Math.max(a, n.minMouseY)), e = m + (r - n.lastMouseX) * (n.hmode ? 1 : -1), t = l + (a - n.lastMouseY) * (n.vmode ? 1 : -1), n.xMapper ? e = n.xMapper(l) : n.yMapper && (t = n.yMapper(m)), Drag.obj.root.style[n.hmode ? "left" : "right"] = e + "px", Drag.obj.root.style[n.vmode ? "top" : "bottom"] = t + "px", Drag.obj.lastMouseX = r, Drag.obj.lastMouseY = a, Drag.obj.root.onDrag(e, t), !1 }, end: function () { document.onmousemove = null, document.onmouseup = null, Drag.obj.root.onDragEnd(parseInt(Drag.obj.root.style[Drag.obj.hmode ? "left" : "right"]), parseInt(Drag.obj.root.style[Drag.obj.vmode ? "top" : "bottom"])), Drag.obj = null }, fixE: function (o) { return "undefined" == typeof o && (o = window.event), "undefined" == typeof o.layerX && (o.layerX = o.offsetX), "undefined" == typeof o.layerY && (o.layerY = o.offsetY), o } };